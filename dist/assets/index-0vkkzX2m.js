import{Q as Ys,r as o,t as Xs,c as Zs,j as e,V as mt,R as xt,a as le,A as ut,C as ht,X as ye,T as pt,D as ft,P as ea,b as gt,d as ta,p as ve,e as D,s as Ne,f as we,g as He,h as jt,i as Y,k as sa,u as ae,l as fe,m as Fe,n as aa,I as ra,H as na,o as bt,q as Ce,v as yt,S as Je,O as vt,w as oa,x as Nt,y as wt,z as Ct,B as St,E as kt,F as Rt,G as Tt,J as At,K as ia,L as la,M as ca,N as da,U as Mt,W as ma,Y as Se,Z as Dt,_ as xa,$ as It,a0 as ua,a1 as Pt,a2 as _t,a3 as $,a4 as Qe,a5 as Et,a6 as ke,a7 as Ft,a8 as ha,a9 as zt,aa as $t,ab as Lt,ac as Ot,ad as Bt,ae as qt,af as Vt,ag as Ut,ah as G,ai as Ht,aj as pa,ak as fa,al as ga,am as Jt,an as Qt,ao as Wt,ap as ja,aq as M,ar as Re,as as ze,at as ba,au as ya,av as va,aw as We,ax as Kt,ay as Na,az as wa,aA as Gt,aB as Ca,aC as at,aD as Sa,aE as ka,aF as Ra,aG as Ta,aH as Aa,aI as Ma,aJ as K,aK as Da,aL as Yt,aM as Xt,aN as Ia,aO as Zt,aP as es,aQ as ts,aR as ss,aS as as,aT as rs,aU as ns,aV as Pa,aW as _a,aX as ce,aY as Ea,aZ as Ke,a_ as Fa,a$ as Ge,b0 as os,b1 as is,b2 as za,b3 as $a,b4 as La,b5 as Oa,b6 as Ba,b7 as ls,b8 as qa,b9 as cs,ba as ds,bb as ms,bc as Va,bd as xs,be as Ua,bf as us,bg as hs,bh as Ha,bi as Ja,bj as ps,bk as Qa,bl as Wa,bm as Ka,bn as Ga,bo as Ya,bp as Xa,bq as Za,br as er,bs as fs,bt as gs,bu as tr,bv as sr,bw as ar,bx as rr,by as nr,bz as or,bA as ir,bB as lr,bC as cr,bD as dr,bE as mr,bF as xr,bG as ur,bH as rt,bI as hr,bJ as pr,bK as fr,bL as gr,bM as Pe,bN as jr,bO as nt,bP as br,bQ as yr,bR as vr,bS as Nr,bT as wr}from"./vendor-DzRdYV-N.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();async function js(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function ot(t,s,a){const r=await fetch(s,{method:t,headers:{},body:void 0,credentials:"include"});return await js(r),r}const Cr=({on401:t})=>async({queryKey:s})=>{const a=await fetch(s[0],{credentials:"include"});return await js(a),await a.json()},be=new Ys({defaultOptions:{queries:{queryFn:Cr({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Sr=1,kr=1e6;let _e=0;function Rr(){return _e=(_e+1)%Number.MAX_SAFE_INTEGER,_e.toString()}const Ee=new Map,it=t=>{if(Ee.has(t))return;const s=setTimeout(()=>{Ee.delete(t),ne({type:"REMOVE_TOAST",toastId:t})},kr);Ee.set(t,s)},Tr=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Sr)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?it(a):t.toasts.forEach(r=>{it(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},ge=[];let je={toasts:[]};function ne(t){je=Tr(je,t),ge.forEach(s=>{s(je)})}function Ar({...t}){const s=Rr(),a=n=>ne({type:"UPDATE_TOAST",toast:{...n,id:s}}),r=()=>ne({type:"DISMISS_TOAST",toastId:s});return ne({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||r()}}}),{id:s,dismiss:r,update:a}}function X(){const[t,s]=o.useState(je);return o.useEffect(()=>(ge.push(s),()=>{const a=ge.indexOf(s);a>-1&&ge.splice(a,1)}),[t]),{...t,toast:Ar,dismiss:a=>ne({type:"DISMISS_TOAST",toastId:a})}}function m(...t){return Xs(Zs(t))}const Mr=ea,bs=o.forwardRef(({className:t,...s},a)=>e.jsx(mt,{ref:a,className:m("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));bs.displayName=mt.displayName;const Dr=le("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ys=o.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(xt,{ref:r,className:m(Dr({variant:s}),t),...a}));ys.displayName=xt.displayName;const Ir=o.forwardRef(({className:t,...s},a)=>e.jsx(ut,{ref:a,className:m("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));Ir.displayName=ut.displayName;const vs=o.forwardRef(({className:t,...s},a)=>e.jsx(ht,{ref:a,className:m("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(ye,{className:"h-4 w-4"})}));vs.displayName=ht.displayName;const Ns=o.forwardRef(({className:t,...s},a)=>e.jsx(pt,{ref:a,className:m("text-sm font-semibold",t),...s}));Ns.displayName=pt.displayName;const ws=o.forwardRef(({className:t,...s},a)=>e.jsx(ft,{ref:a,className:m("text-sm opacity-90",t),...s}));ws.displayName=ft.displayName;function Pr(){const{toasts:t}=X();return e.jsxs(Mr,{children:[t.map(function({id:s,title:a,description:r,action:n,...i}){return e.jsxs(ys,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Ns,{children:a}),r&&e.jsx(ws,{children:r})]}),n,e.jsx(vs,{})]},s)}),e.jsx(bs,{})]})}const _r=ta,Er=o.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(gt,{ref:r,sideOffset:s,className:m("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...a}));Er.displayName=gt.displayName;const Fr=ve("users",{id:Ne("id").primaryKey(),username:D("username").notNull().unique(),password:D("password").notNull(),fullName:D("full_name").notNull(),role:D("role").default("user").notNull(),email:D("email").notNull().unique()}),Cs=we(Fr).pick({username:!0,password:!0,fullName:!0,email:!0}),zr=ve("analyses",{id:Ne("id").primaryKey(),name:D("name").notNull(),jobTitle:D("job_title").notNull(),department:D("department"),jobDescription:D("job_description").notNull(),createdById:Y("created_by_id").notNull(),status:D("status").default("queued").notNull(),candidateCount:Y("candidate_count").default(0).notNull(),averageScore:Y("average_score"),filters:jt("filters"),createdAt:He("created_at").defaultNow().notNull()});we(zr).pick({name:!0,jobTitle:!0,department:!0,jobDescription:!0,filters:!0});const $r=ve("candidates",{id:Ne("id").primaryKey(),analysisId:Y("analysis_id").notNull(),name:D("name").notNull(),email:D("email").notNull(),phone:D("phone"),location:D("location"),experience:D("experience"),education:D("education"),skills:jt("skills"),matchScore:Y("match_score").notNull(),resumeText:D("resume_text"),createdAt:He("created_at").defaultNow().notNull()});we($r).pick({analysisId:!0,name:!0,email:!0,phone:!0,location:!0,experience:!0,education:!0,skills:!0,matchScore:!0,resumeText:!0});const Lr=ve("notifications",{id:Ne("id").primaryKey(),userId:Y("user_id").notNull(),title:D("title").notNull(),message:D("message").notNull(),type:D("type").default("info").notNull(),isRead:sa("is_read").default(!1).notNull(),createdAt:He("created_at").defaultNow().notNull(),relatedId:Y("related_id"),relatedType:D("related_type")});we(Lr).pick({userId:!0,title:!0,message:!0,type:!0,relatedId:!0,relatedType:!0});const Ss=o.createContext(null);Cs.pick({username:!0,password:!0});const ue={id:1,username:"testuser",fullName:"Test User",role:"HR Manager",email:"test@example.com",createdAt:new Date().toISOString()};function Or({children:t}){const{toast:s}=X(),{data:a,error:r,isLoading:n}=ae({queryKey:["/api/user"],queryFn:()=>Promise.resolve(ue)}),i=fe({mutationFn:async l=>ue,onSuccess:l=>{be.setQueryData(["/api/user"],l),s({title:"Login successful",description:`Welcome back, ${l.fullName||l.username}!`})},onError:l=>{s({title:"Login failed",description:l.message||"Invalid username or password",variant:"destructive"})}}),u=fe({mutationFn:async l=>ue,onSuccess:l=>{be.setQueryData(["/api/user"],l),s({title:"Registration successful",description:`Welcome to TalentInsight, ${l.fullName||l.username}!`})},onError:l=>{s({title:"Registration failed",description:l.message||"Could not create account",variant:"destructive"})}}),p=fe({mutationFn:async()=>null,onSuccess:()=>{s({title:"Logged out",description:"You have been successfully logged out."})},onError:l=>{s({title:"Logout failed",description:l.message,variant:"destructive"})}});return e.jsx(Ss.Provider,{value:{user:a||ue,isLoading:!1,error:null,loginMutation:i,logoutMutation:p,registerMutation:u},children:t})}function Ye(){const t=o.useContext(Ss);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Z({path:t,component:s}){return e.jsx(Fe,{path:t,component:s})}const F=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:m("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));F.displayName="Card";const H=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:m("flex flex-col space-y-1.5 p-6",t),...s}));H.displayName="CardHeader";const Q=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:m("text-2xl font-semibold leading-none tracking-tight",t),...s}));Q.displayName="CardTitle";const ks=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:m("text-sm text-muted-foreground",t),...s}));ks.displayName="CardDescription";const z=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:m("p-6 pt-0",t),...s}));z.displayName="CardContent";const Br=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:m("flex items-center p-6 pt-0",t),...s}));Br.displayName="CardFooter";function qr(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(F,{className:"w-full max-w-md mx-4",children:e.jsxs(z,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(aa,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Vr=o.forwardRef(({className:t,...s},a)=>e.jsx(ra,{ref:a,className:m("border-b",t),...s}));Vr.displayName="AccordionItem";const Ur=o.forwardRef(({className:t,children:s,...a},r)=>e.jsx(na,{className:"flex",children:e.jsxs(bt,{ref:r,className:m("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...a,children:[s,e.jsx(Ce,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ur.displayName=bt.displayName;const Hr=o.forwardRef(({className:t,children:s,...a},r)=>e.jsx(yt,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...a,children:e.jsx("div",{className:m("pb-4 pt-0",t),children:s})}));Hr.displayName=yt.displayName;const Xe=le("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),S=o.forwardRef(({className:t,variant:s,size:a,asChild:r=!1,...n},i)=>{const u=r?Je:"button";return e.jsx(u,{className:m(Xe({variant:s,size:a,className:t})),ref:i,...n})});S.displayName="Button";const Jr=oa,Rs=o.forwardRef(({className:t,...s},a)=>e.jsx(vt,{className:m("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));Rs.displayName=vt.displayName;const Qr=o.forwardRef(({className:t,...s},a)=>e.jsxs(Jr,{children:[e.jsx(Rs,{}),e.jsx(Nt,{ref:a,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Qr.displayName=Nt.displayName;const Wr=o.forwardRef(({className:t,...s},a)=>e.jsx(wt,{ref:a,className:m("text-lg font-semibold",t),...s}));Wr.displayName=wt.displayName;const Kr=o.forwardRef(({className:t,...s},a)=>e.jsx(Ct,{ref:a,className:m("text-sm text-muted-foreground",t),...s}));Kr.displayName=Ct.displayName;const Gr=o.forwardRef(({className:t,...s},a)=>e.jsx(St,{ref:a,className:m(Xe(),t),...s}));Gr.displayName=St.displayName;const Yr=o.forwardRef(({className:t,...s},a)=>e.jsx(kt,{ref:a,className:m(Xe({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));Yr.displayName=kt.displayName;const Xr=le("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Zr=o.forwardRef(({className:t,variant:s,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:m(Xr({variant:s}),t),...a}));Zr.displayName="Alert";const en=o.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:m("mb-1 font-medium leading-none tracking-tight",t),...s}));en.displayName="AlertTitle";const tn=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:m("text-sm [&_p]:leading-relaxed",t),...s}));tn.displayName="AlertDescription";const Te=o.forwardRef(({className:t,...s},a)=>e.jsx(Rt,{ref:a,className:m("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));Te.displayName=Rt.displayName;const Ae=o.forwardRef(({className:t,...s},a)=>e.jsx(Tt,{ref:a,className:m("aspect-square h-full w-full",t),...s}));Ae.displayName=Tt.displayName;const Me=o.forwardRef(({className:t,...s},a)=>e.jsx(At,{ref:a,className:m("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));Me.displayName=At.displayName;const sn=le("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function q({className:t,variant:s,...a}){return e.jsx("div",{className:m(sn({variant:s}),t),...a})}const an=o.forwardRef(({...t},s)=>e.jsx("nav",{ref:s,"aria-label":"breadcrumb",...t}));an.displayName="Breadcrumb";const rn=o.forwardRef(({className:t,...s},a)=>e.jsx("ol",{ref:a,className:m("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...s}));rn.displayName="BreadcrumbList";const nn=o.forwardRef(({className:t,...s},a)=>e.jsx("li",{ref:a,className:m("inline-flex items-center gap-1.5",t),...s}));nn.displayName="BreadcrumbItem";const on=o.forwardRef(({asChild:t,className:s,...a},r)=>{const n=t?Je:"a";return e.jsx(n,{ref:r,className:m("transition-colors hover:text-foreground",s),...a})});on.displayName="BreadcrumbLink";const ln=o.forwardRef(({className:t,...s},a)=>e.jsx("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:m("font-normal text-foreground",t),...s}));ln.displayName="BreadcrumbPage";const Ts=o.createContext(null);function De(){const t=o.useContext(Ts);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const cn=o.forwardRef(({orientation:t="horizontal",opts:s,setApi:a,plugins:r,className:n,children:i,...u},p)=>{const[l,d]=ia({...s,axis:t==="horizontal"?"x":"y"},r),[w,v]=o.useState(!1),[y,f]=o.useState(!1),x=o.useCallback(b=>{b&&(v(b.canScrollPrev()),f(b.canScrollNext()))},[]),j=o.useCallback(()=>{d==null||d.scrollPrev()},[d]),C=o.useCallback(()=>{d==null||d.scrollNext()},[d]),g=o.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),j()):b.key==="ArrowRight"&&(b.preventDefault(),C())},[j,C]);return o.useEffect(()=>{!d||!a||a(d)},[d,a]),o.useEffect(()=>{if(d)return x(d),d.on("reInit",x),d.on("select",x),()=>{d==null||d.off("select",x)}},[d,x]),e.jsx(Ts.Provider,{value:{carouselRef:l,api:d,opts:s,orientation:t||((s==null?void 0:s.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:C,canScrollPrev:w,canScrollNext:y},children:e.jsx("div",{ref:p,onKeyDownCapture:g,className:m("relative",n),role:"region","aria-roledescription":"carousel",...u,children:i})})});cn.displayName="Carousel";const dn=o.forwardRef(({className:t,...s},a)=>{const{carouselRef:r,orientation:n}=De();return e.jsx("div",{ref:r,className:"overflow-hidden",children:e.jsx("div",{ref:a,className:m("flex",n==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...s})})});dn.displayName="CarouselContent";const mn=o.forwardRef(({className:t,...s},a)=>{const{orientation:r}=De();return e.jsx("div",{ref:a,role:"group","aria-roledescription":"slide",className:m("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...s})});mn.displayName="CarouselItem";const xn=o.forwardRef(({className:t,variant:s="outline",size:a="icon",...r},n)=>{const{orientation:i,scrollPrev:u,canScrollPrev:p}=De();return e.jsxs(S,{ref:n,variant:s,size:a,className:m("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!p,onClick:u,...r,children:[e.jsx(la,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})});xn.displayName="CarouselPrevious";const un=o.forwardRef(({className:t,variant:s="outline",size:a="icon",...r},n)=>{const{orientation:i,scrollNext:u,canScrollNext:p}=De();return e.jsxs(S,{ref:n,variant:s,size:a,className:m("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!p,onClick:u,...r,children:[e.jsx(ca,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})});un.displayName="CarouselNext";const hn={light:"",dark:".dark"},As=o.createContext(null);function Ms(){const t=o.useContext(As);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const pn=o.forwardRef(({id:t,className:s,children:a,config:r,...n},i)=>{const u=o.useId(),p=`chart-${t||u.replace(/:/g,"")}`;return e.jsx(As.Provider,{value:{config:r},children:e.jsxs("div",{"data-chart":p,ref:i,className:m("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",s),...n,children:[e.jsx(fn,{id:p,config:r}),e.jsx(da,{children:a})]})})});pn.displayName="Chart";const fn=({id:t,config:s})=>{const a=Object.entries(s).filter(([,r])=>r.theme||r.color);return a.length?e.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(hn).map(([r,n])=>`
${n} [data-chart=${t}] {
${a.map(([i,u])=>{var l;const p=((l=u.theme)==null?void 0:l[r])||u.color;return p?`  --color-${i}: ${p};`:null}).join(`
`)}
}
`).join(`
`)}}):null},gn=o.forwardRef(({active:t,payload:s,className:a,indicator:r="dot",hideLabel:n=!1,hideIndicator:i=!1,label:u,labelFormatter:p,labelClassName:l,formatter:d,color:w,nameKey:v,labelKey:y},f)=>{const{config:x}=Ms(),j=o.useMemo(()=>{var N;if(n||!(s!=null&&s.length))return null;const[g]=s,b=`${y||(g==null?void 0:g.dataKey)||(g==null?void 0:g.name)||"value"}`,h=$e(x,g,b),c=!y&&typeof u=="string"?((N=x[u])==null?void 0:N.label)||u:h==null?void 0:h.label;return p?e.jsx("div",{className:m("font-medium",l),children:p(c,s)}):c?e.jsx("div",{className:m("font-medium",l),children:c}):null},[u,p,s,n,l,x,y]);if(!t||!(s!=null&&s.length))return null;const C=s.length===1&&r!=="dot";return e.jsxs("div",{ref:f,className:m("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",a),children:[C?null:j,e.jsx("div",{className:"grid gap-1.5",children:s.map((g,b)=>{const h=`${v||g.name||g.dataKey||"value"}`,c=$e(x,g,h),N=w||g.payload.fill||g.color;return e.jsx("div",{className:m("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:d&&(g==null?void 0:g.value)!==void 0&&g.name?d(g.value,g.name,g,b,g.payload):e.jsxs(e.Fragment,{children:[c!=null&&c.icon?e.jsx(c.icon,{}):!i&&e.jsx("div",{className:m("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":C&&r==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),e.jsxs("div",{className:m("flex flex-1 justify-between leading-none",C?"items-end":"items-center"),children:[e.jsxs("div",{className:"grid gap-1.5",children:[C?j:null,e.jsx("span",{className:"text-muted-foreground",children:(c==null?void 0:c.label)||g.name})]}),g.value&&e.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:g.value.toLocaleString()})]})]})},g.dataKey)})})]})});gn.displayName="ChartTooltip";const jn=o.forwardRef(({className:t,hideIcon:s=!1,payload:a,verticalAlign:r="bottom",nameKey:n},i)=>{const{config:u}=Ms();return a!=null&&a.length?e.jsx("div",{ref:i,className:m("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:a.map(p=>{const l=`${n||p.dataKey||"value"}`,d=$e(u,p,l);return e.jsxs("div",{className:m("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!s?e.jsx(d.icon,{}):e.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:p.color}}),d==null?void 0:d.label]},p.value)})}):null});jn.displayName="ChartLegend";function $e(t,s,a){if(typeof s!="object"||s===null)return;const r="payload"in s&&typeof s.payload=="object"&&s.payload!==null?s.payload:void 0;let n=a;return a in s&&typeof s[a]=="string"?n=s[a]:r&&a in r&&typeof r[a]=="string"&&(n=r[a]),n in t?t[n]:t[a]}const Le=o.forwardRef(({className:t,...s},a)=>e.jsx(Mt,{ref:a,className:m("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(ma,{className:m("flex items-center justify-center text-current"),children:e.jsx(Se,{className:"h-4 w-4"})})}));Le.displayName=Mt.displayName;const U=o.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:m("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));U.displayName="Input";const bn=xa,Ds=o.forwardRef(({className:t,...s},a)=>e.jsx(Dt,{ref:a,className:m("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));Ds.displayName=Dt.displayName;const yn=o.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(bn,{children:[e.jsx(Ds,{}),e.jsxs(It,{ref:r,className:m("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(ua,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yn.displayName=It.displayName;const vn=o.forwardRef(({className:t,...s},a)=>e.jsx(Pt,{ref:a,className:m("text-lg font-semibold leading-none tracking-tight",t),...s}));vn.displayName=Pt.displayName;const Nn=o.forwardRef(({className:t,...s},a)=>e.jsx(_t,{ref:a,className:m("text-sm text-muted-foreground",t),...s}));Nn.displayName=_t.displayName;const wn=o.forwardRef(({className:t,...s},a)=>e.jsx($,{ref:a,className:m("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s}));wn.displayName=$.displayName;const Cn=o.forwardRef(({className:t,...s},a)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Qe,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx($.Input,{ref:a,className:m("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]}));Cn.displayName=$.Input.displayName;const Sn=o.forwardRef(({className:t,...s},a)=>e.jsx($.List,{ref:a,className:m("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s}));Sn.displayName=$.List.displayName;const kn=o.forwardRef((t,s)=>e.jsx($.Empty,{ref:s,className:"py-6 text-center text-sm",...t}));kn.displayName=$.Empty.displayName;const Rn=o.forwardRef(({className:t,...s},a)=>e.jsx($.Group,{ref:a,className:m("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s}));Rn.displayName=$.Group.displayName;const Tn=o.forwardRef(({className:t,...s},a)=>e.jsx($.Separator,{ref:a,className:m("-mx-1 h-px bg-border",t),...s}));Tn.displayName=$.Separator.displayName;const An=o.forwardRef(({className:t,...s},a)=>e.jsx($.Item,{ref:a,className:m("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...s}));An.displayName=$.Item.displayName;const Mn=o.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(Et,{ref:n,className:m("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",s&&"pl-8",t),...r,children:[a,e.jsx(ke,{className:"ml-auto h-4 w-4"})]}));Mn.displayName=Et.displayName;const Dn=o.forwardRef(({className:t,...s},a)=>e.jsx(Ft,{ref:a,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...s}));Dn.displayName=Ft.displayName;const In=o.forwardRef(({className:t,...s},a)=>e.jsx(ha,{children:e.jsx(zt,{ref:a,className:m("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...s})}));In.displayName=zt.displayName;const Pn=o.forwardRef(({className:t,inset:s,...a},r)=>e.jsx($t,{ref:r,className:m("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));Pn.displayName=$t.displayName;const _n=o.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(Lt,{ref:n,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ot,{children:e.jsx(Se,{className:"h-4 w-4"})})}),s]}));_n.displayName=Lt.displayName;const En=o.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Bt,{ref:r,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ot,{children:e.jsx(qt,{className:"h-2 w-2 fill-current"})})}),s]}));En.displayName=Bt.displayName;const Fn=o.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(Vt,{ref:r,className:m("px-2 py-1.5 text-sm font-semibold text-foreground",s&&"pl-8",t),...a}));Fn.displayName=Vt.displayName;const zn=o.forwardRef(({className:t,...s},a)=>e.jsx(Ut,{ref:a,className:m("-mx-1 my-1 h-px bg-border",t),...s}));zn.displayName=Ut.displayName;const $n=G.Portal,Is=o.forwardRef(({className:t,...s},a)=>e.jsx(G.Overlay,{ref:a,className:m("fixed inset-0 z-50 bg-black/80",t),...s}));Is.displayName=G.Overlay.displayName;const Ln=o.forwardRef(({className:t,children:s,...a},r)=>e.jsxs($n,{children:[e.jsx(Is,{}),e.jsxs(G.Content,{ref:r,className:m("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...a,children:[e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),s]})]}));Ln.displayName="DrawerContent";const On=o.forwardRef(({className:t,...s},a)=>e.jsx(G.Title,{ref:a,className:m("text-lg font-semibold leading-none tracking-tight",t),...s}));On.displayName=G.Title.displayName;const Bn=o.forwardRef(({className:t,...s},a)=>e.jsx(G.Description,{ref:a,className:m("text-sm text-muted-foreground",t),...s}));Bn.displayName=G.Description.displayName;const qn=le("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ps=o.forwardRef(({className:t,...s},a)=>e.jsx(Ht,{ref:a,className:m(qn(),t),...s}));Ps.displayName=Ht.displayName;const Oe=fa,_s=o.createContext({}),V=({...t})=>e.jsx(_s.Provider,{value:{name:t.name},children:e.jsx(ga,{...t})}),Ie=()=>{const t=o.useContext(_s),s=o.useContext(Es),{getFieldState:a,formState:r}=pa(),n=a(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=s;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},Es=o.createContext({}),O=o.forwardRef(({className:t,...s},a)=>{const r=o.useId();return e.jsx(Es.Provider,{value:{id:r},children:e.jsx("div",{ref:a,className:m("space-y-2",t),...s})})});O.displayName="FormItem";const E=o.forwardRef(({className:t,...s},a)=>{const{error:r,formItemId:n}=Ie();return e.jsx(Ps,{ref:a,className:m(r&&"text-destructive",t),htmlFor:n,...s})});E.displayName="FormLabel";const B=o.forwardRef(({...t},s)=>{const{error:a,formItemId:r,formDescriptionId:n,formMessageId:i}=Ie();return e.jsx(Je,{ref:s,id:r,"aria-describedby":a?`${n} ${i}`:`${n}`,"aria-invalid":!!a,...t})});B.displayName="FormControl";const Vn=o.forwardRef(({className:t,...s},a)=>{const{formDescriptionId:r}=Ie();return e.jsx("p",{ref:a,id:r,className:m("text-sm text-muted-foreground",t),...s})});Vn.displayName="FormDescription";const J=o.forwardRef(({className:t,children:s,...a},r)=>{const{error:n,formMessageId:i}=Ie(),u=n?String((n==null?void 0:n.message)??""):s;return u?e.jsx("p",{ref:r,id:i,className:m("text-sm font-medium text-destructive",t),...a,children:u}):null});J.displayName="FormMessage";const Un=ja,Fs=o.forwardRef(({className:t,...s},a)=>e.jsx(Jt,{ref:a,className:m("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Fs.displayName=Jt.displayName;const Be=o.forwardRef(({className:t,...s},a)=>e.jsx(Qt,{ref:a,className:m("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));Be.displayName=Qt.displayName;const qe=o.forwardRef(({className:t,...s},a)=>e.jsx(Wt,{ref:a,className:m("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));qe.displayName=Wt.displayName;function Hn(){const t=o.useRef(null),s=o.useRef(null),a=o.useRef([]),r=o.useRef({x:null,y:null}),n=100,i=120;return o.useEffect(()=>{const u=t.current,p=u.getContext("2d");let l=u.width=u.offsetWidth,d=u.height=u.offsetHeight;function w(){l=u.width=u.offsetWidth,d=u.height=u.offsetHeight}window.addEventListener("resize",w),a.current=[];for(let x=0;x<n;x++)a.current.push({x:Math.random()*l,y:Math.random()*d,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,size:Math.random()*2+1,opacity:Math.random()*.5+.5});function v(x){const j=u.getBoundingClientRect();r.current.x=x.clientX-j.left,r.current.y=x.clientY-j.top}function y(){r.current.x=null,r.current.y=null}u.addEventListener("mousemove",v),u.addEventListener("mouseleave",y);function f(){p.clearRect(0,0,l,d);for(let x=0;x<n;x++){const j=a.current[x];for(let C=x+1;C<n;C++){const g=a.current[C],b=j.x-g.x,h=j.y-g.y,c=Math.sqrt(b*b+h*h);if(c<i){const N=.4*(1-c/i);p.strokeStyle=`rgba(255,255,255,${N})`,p.lineWidth=1,p.beginPath(),p.moveTo(j.x,j.y),p.lineTo(g.x,g.y),p.stroke()}}}a.current.forEach(x=>{if(x.x+=x.vx,x.y+=x.vy,(x.x<=0||x.x>=l)&&(x.vx*=-1),(x.y<=0||x.y>=d)&&(x.vy*=-1),r.current.x!==null){const C=x.x-r.current.x,g=x.y-r.current.y,b=Math.sqrt(C*C+g*g);if(b<100){const h=(100-b)/100;x.vx+=C/b*h*.05,x.vy+=g/b*h*.05}}const j=p.createRadialGradient(x.x,x.y,0,x.x,x.y,x.size*4);j.addColorStop(0,`rgba(255,255,255,${x.opacity})`),j.addColorStop(1,"rgba(255,255,255,0)"),p.fillStyle=j,p.beginPath(),p.arc(x.x,x.y,x.size*2,0,Math.PI*2),p.fill(),p.fillStyle=`rgba(255,255,255,${x.opacity})`,p.beginPath(),p.arc(x.x,x.y,x.size,0,Math.PI*2),p.fill()}),s.current=requestAnimationFrame(f)}return f(),()=>{window.removeEventListener("resize",w),u.removeEventListener("mousemove",v),u.removeEventListener("mouseleave",y),cancelAnimationFrame(s.current)}},[]),e.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full",style:{zIndex:0}})}M.object({username:M.string().min(3,"Username must be at least 3 characters"),password:M.string().min(6,"Password must be at least 6 characters"),rememberMe:M.boolean().optional()});Cs.extend({confirmPassword:M.string().min(6,"Password must be at least 6 characters"),acceptTerms:M.boolean().refine(t=>t===!0,{message:"You must accept the terms and conditions"})}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Jn(){const[t,s]=Re(),[a,r]=o.useState("login"),{user:n,loginMutation:i,registerMutation:u}=Ye(),[p,l]=o.useState(0),d=ze({defaultValues:{username:"",password:"",rememberMe:!1}}),w=ze({defaultValues:{username:"",password:"",confirmPassword:"",fullName:"",email:"",acceptTerms:!1}});o.useEffect(()=>{const f=setInterval(()=>l(x=>(x+1)%4),5e3);return()=>clearInterval(f)},[]);function v(f){i.mutate(f),s("/dashboard")}function y(f){const{confirmPassword:x,acceptTerms:j,...C}=f;u.mutate(C)}return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-white text-[rgb(3,7,18)]",children:[e.jsxs("div",{className:"relative hidden md:flex md:w-1/2 bg-[rgb(3,7,18)] text-white overflow-hidden items-center justify-center p-10",children:[e.jsx(Hn,{}),e.jsxs("div",{className:"relative z-10 max-w-lg text-left space-y-6 animate-fade-up",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-white text-[rgb(3,7,18)] p-2 rounded-lg shadow-lg",children:e.jsx(ba,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-4xl font-extrabold font-display tracking-tight",children:"Resumer AI"})]}),e.jsx("h2",{className:"text-3xl font-semibold leading-snug font-display",children:"Unlock a Future-Ready Hiring Experience"}),e.jsx("p",{className:"text-white/80 text-lg",children:"Make hiring smarter, faster and jaw-droppingly smooth. Let AI handle the heavy lifting while you sip coffee."}),e.jsx("div",{className:"space-y-8",children:[{title:"Smart Resume Screening",icon:e.jsx(ya,{className:"h-6 w-6"}),desc:"Analyze 200+ resumes in seconds using smart AI."},{title:"Powerful Visual Analytics",icon:e.jsx(va,{className:"h-6 w-6"}),desc:"Gain rich insights into candidate metrics with visuals."},{title:"Lightning-Fast Workflows",icon:e.jsx(We,{className:"h-6 w-6"}),desc:"Cut resume review time by 75% via automation."},{title:"Deep AI Insights",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),desc:"Find hidden gems in seconds with advanced ML models."}].map((f,x)=>e.jsxs("div",{className:`transition-all duration-700 ${p===x?"opacity-100":"opacity-0 absolute"} flex items-start space-x-4`,children:[e.jsx("div",{className:"bg-white/20 p-3 rounded-xl shadow-lg",children:f.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-medium",children:f.title}),e.jsx("p",{className:"text-white/80",children:f.desc}),e.jsxs(S,{variant:"link",className:"text-white mt-2 p-0 group",children:["Learn more ",e.jsx(ke,{className:"h-4 w-4 ml-1 transition-transform group-hover:translate-x-1"})]})]})]},x))})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6 md:p-12 bg-white text-[rgb(3,7,18)]",children:e.jsxs(F,{className:"w-full max-w-md shadow-xl",children:[e.jsxs(H,{children:[e.jsx(Q,{className:"text-2xl font-bold",children:a==="login"?"Login":"Register"}),e.jsx(ks,{children:"Welcome back to Resumer AI"})]}),e.jsx(z,{children:e.jsxs(Un,{defaultValue:"login",onValueChange:r,children:[e.jsxs(Fs,{className:"grid grid-cols-2 mb-6",children:[e.jsx(Be,{value:"login",children:"Login"}),e.jsx(Be,{value:"register",children:"Register"})]}),e.jsx(qe,{value:"login",children:e.jsx(Oe,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(v),className:"space-y-4",children:[e.jsx(V,{name:"username",control:d.control,render:({field:f})=>e.jsxs(O,{children:[e.jsx(E,{children:"Username"}),e.jsx(B,{children:e.jsx(U,{...f})}),e.jsx(J,{})]})}),e.jsx(V,{name:"password",control:d.control,render:({field:f})=>e.jsxs(O,{children:[e.jsx(E,{children:"Password"}),e.jsx(B,{children:e.jsx(U,{type:"password",...f})}),e.jsx(J,{})]})}),e.jsx(V,{name:"rememberMe",control:d.control,render:({field:f})=>e.jsxs(O,{className:"flex items-center space-x-2",children:[e.jsx(B,{children:e.jsx(Le,{checked:f.value,onCheckedChange:f.onChange})}),e.jsx(E,{children:"Remember me"})]})}),e.jsx(S,{type:"submit",className:"w-full",children:"Login"})]})})}),e.jsx(qe,{value:"register",children:e.jsx(Oe,{...w,children:e.jsxs("form",{onSubmit:w.handleSubmit(y),className:"space-y-4",children:[e.jsx(V,{name:"fullName",control:w.control,render:({field:f})=>e.jsxs(O,{children:[e.jsx(E,{children:"Full Name"}),e.jsx(B,{children:e.jsx(U,{...f})}),e.jsx(J,{})]})}),e.jsx(V,{name:"email",control:w.control,render:({field:f})=>e.jsxs(O,{children:[e.jsx(E,{children:"Email"}),e.jsx(B,{children:e.jsx(U,{type:"email",...f})}),e.jsx(J,{})]})}),e.jsx(V,{name:"username",control:w.control,render:({field:f})=>e.jsxs(O,{children:[e.jsx(E,{children:"Username"}),e.jsx(B,{children:e.jsx(U,{...f})}),e.jsx(J,{})]})}),e.jsx(V,{name:"password",control:w.control,render:({field:f})=>e.jsxs(O,{children:[e.jsx(E,{children:"Password"}),e.jsx(B,{children:e.jsx(U,{type:"password",...f})}),e.jsx(J,{})]})}),e.jsx(V,{name:"confirmPassword",control:w.control,render:({field:f})=>e.jsxs(O,{children:[e.jsx(E,{children:"Confirm Password"}),e.jsx(B,{children:e.jsx(U,{type:"password",...f})}),e.jsx(J,{})]})}),e.jsx(V,{name:"acceptTerms",control:w.control,render:({field:f})=>e.jsxs(O,{className:"flex items-center space-x-2",children:[e.jsx(B,{children:e.jsx(Le,{checked:f.value,onCheckedChange:f.onChange})}),e.jsx(E,{children:"I agree to the terms"})]})}),e.jsx(S,{type:"submit",className:"w-full",children:"Create Account"})]})})})]})})]})})]})}const Ve=o.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Kt,{ref:r,className:m("relative overflow-hidden",t),...a,children:[e.jsx(Na,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(zs,{}),e.jsx(wa,{})]}));Ve.displayName=Kt.displayName;const zs=o.forwardRef(({className:t,orientation:s="vertical",...a},r)=>e.jsx(Gt,{ref:r,orientation:s,className:m("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...a,children:e.jsx(Ca,{className:"relative flex-1 rounded-full bg-border"})}));zs.displayName=Gt.displayName;function Qn(){const[t]=Re(),{logoutMutation:s}=Ye(),[a,r]=o.useState(!1),[n,i]=o.useState(!1),u=()=>r(!a),p=()=>r(!1),l=()=>i(!n),d=[{title:"Dashboard",icon:e.jsx(ka,{className:"h-5 w-5"}),path:"/dashboard"},{title:"Resume Analyzer",icon:e.jsx(Ra,{className:"h-5 w-5"}),path:"/resume-analyzer"},{title:"Analysis Queue",icon:e.jsx(We,{className:"h-5 w-5"}),path:"/analysis-queue"},{title:"Results",icon:e.jsx(Ta,{className:"h-5 w-5"}),path:"/results"},{title:"History",icon:e.jsx(Aa,{className:"h-5 w-5"}),path:"/history"},{title:"Settings",icon:e.jsx(Ma,{className:"h-5 w-5"}),path:"/settings"}],w=()=>s.mutate(),v=j=>j==="/"?t===j:t.startsWith(j),y=()=>d.map(j=>{const C=v(j.path);return e.jsxs("div",{className:"relative group",children:[e.jsxs(K,{href:j.path,onClick:p,className:m("flex items-center py-3 rounded-xl",C?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white",n?"justify-center px-3 mx-2":"px-4 justify-start"),children:[e.jsx("div",{className:C?"text-white":"text-gray-400 group-hover:text-white",children:j.icon}),e.jsx("span",{className:m("ml-3 whitespace-nowrap",n?"hidden":"inline",C?"text-white":"text-gray-400 group-hover:text-white"),children:j.title})]}),n&&e.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity z-50",children:e.jsx("div",{className:"bg-gray-900 border border-gray-800 text-white px-3 py-2 shadow-lg rounded-lg whitespace-nowrap",children:j.title})})]},j.path)}),f=e.jsxs(S,{variant:"ghost",size:"icon",className:"md:hidden ml-2 text-gray-400 hover:bg-gray-800 hover:text-white",onClick:u,children:[e.jsx(Da,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]}),x=e.jsxs("div",{className:`fixed inset-0 z-40 ${a?"block":"hidden"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:p}),e.jsxs("div",{className:"absolute inset-y-0 left-0 w-72 bg-gray-950 shadow-2xl rounded-r-3xl overflow-hidden border-r border-gray-800",children:[e.jsxs("div",{className:"p-5 border-b border-gray-800 flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"TalentInsight"}),e.jsx(S,{variant:"ghost",size:"icon",className:"text-gray-400 hover:bg-gray-800 hover:text-white",onClick:p,children:e.jsx(ye,{className:"h-5 w-5"})})]}),e.jsx(Ve,{className:"flex-1 h-[calc(100vh-136px)]",children:e.jsx("nav",{className:"flex-1 px-3 py-5 space-y-2",children:y()})}),e.jsx("div",{className:"p-4 border-t border-gray-800",children:e.jsxs(S,{variant:"ghost",className:"w-full justify-start text-gray-400 hover:bg-gray-800 hover:text-white",onClick:w,children:[e.jsx(at,{className:"mr-3 h-5 w-5"}),e.jsx("span",{children:"Sign Out"})]})})]})]});return e.jsxs(e.Fragment,{children:[f,x,e.jsxs("div",{className:m("hidden md:flex flex-col bg-gray-950 border-r border-gray-800 transition-all duration-300 ease-in-out",n?"w-20":"w-64"),children:[e.jsxs("div",{className:"p-5 border-b border-gray-800 flex justify-between items-center",children:[!n&&e.jsx("h1",{className:"text-2xl font-bold text-white",children:"TalentInsight"}),e.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:bg-gray-800 hover:text-white",onClick:l,children:n?e.jsx(ke,{className:"h-4 w-4"}):e.jsx(Sa,{className:"h-4 w-4"})})]}),e.jsx(Ve,{className:"flex-1 h-[calc(100vh-136px)]",children:e.jsx("nav",{className:"flex-1 px-3 py-5 space-y-2",children:y()})}),e.jsx("div",{className:"p-4 border-t border-gray-800",children:e.jsxs(S,{variant:"ghost",className:m("w-full justify-start text-gray-400 hover:bg-gray-800 hover:text-white",n?"justify-center":"justify-start"),onClick:w,disabled:s.isPending,children:[e.jsx(at,{className:m("h-5 w-5",!n&&"mr-3")}),!n&&e.jsx("span",{children:s.isPending?"Signing out...":"Sign Out"})]})})]})]})}const $s=Pa,Ls=_a,Wn=o.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(Yt,{ref:n,className:m("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...r,children:[a,e.jsx(ke,{className:"ml-auto"})]}));Wn.displayName=Yt.displayName;const Kn=o.forwardRef(({className:t,...s},a)=>e.jsx(Xt,{ref:a,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s}));Kn.displayName=Xt.displayName;const Ze=o.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(Ia,{children:e.jsx(Zt,{ref:r,sideOffset:s,className:m("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a})}));Ze.displayName=Zt.displayName;const ee=o.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(es,{ref:r,className:m("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...a}));ee.displayName=es.displayName;const Gn=o.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(ts,{ref:n,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ss,{children:e.jsx(Se,{className:"h-4 w-4"})})}),s]}));Gn.displayName=ts.displayName;const Yn=o.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(as,{ref:r,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ss,{children:e.jsx(qt,{className:"h-2 w-2 fill-current"})})}),s]}));Yn.displayName=as.displayName;const Os=o.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(rs,{ref:r,className:m("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));Os.displayName=rs.displayName;const Ue=o.forwardRef(({className:t,...s},a)=>e.jsx(ns,{ref:a,className:m("-mx-1 my-1 h-px bg-muted",t),...s}));Ue.displayName=ns.displayName;function Xn({notification:t}){const s=n=>{switch(n){case"success":return{bgColor:"bg-green-100",textColor:"text-green-600"};case"warning":return{bgColor:"bg-yellow-100",textColor:"text-yellow-600"};case"error":return{bgColor:"bg-red-100",textColor:"text-red-600"};case"info":default:return{bgColor:"bg-blue-100",textColor:"text-blue-600"}}},a=n=>{switch(n){case"success":return"✓";case"warning":return"⚠";case"error":return"✖";case"info":default:return"ℹ"}},r=s(t.type);return e.jsx("div",{className:`p-4 hover:bg-gray-50 ${t.isRead?"opacity-75":""}`,children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${r.bgColor}`,children:e.jsx("span",{className:`text-sm ${r.textColor}`,children:a(t.type)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-text",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.message}),t.relatedId&&t.relatedType==="analysis"&&e.jsx("div",{className:"mt-1",children:e.jsx(K,{href:`/results/${t.relatedId}`,children:e.jsx(S,{variant:"link",className:"text-xs text-primary p-0 h-auto",children:"View Results"})})}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ce(new Date(t.createdAt),{addSuffix:!0})})]})]})})}function Zn(){const{user:t}=Ye(),[s,a]=o.useState(!1),{data:r=[],refetch:n}=ae({queryKey:["/api/notifications"],staleTime:6e4}),i=r.filter(l=>!l.isRead).length,u=async()=>{if(a(!s),i>0)try{await ot("POST","/api/notifications/read-all"),n()}catch(l){console.error("Failed to mark notifications as read:",l)}},p=l=>l?l.split(" ").map(d=>d[0]).join("").toUpperCase():"U";return e.jsx("header",{className:"bg-gradient-to-r from-slate-900 to-gray-800 text-white shadow-lg border-b border-gray-700 backdrop-blur-md",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[e.jsx("div",{className:"text-xl font-bold tracking-tight text-white select-none"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center px-3 py-1.5 bg-green-500/10 text-green-400 text-sm font-medium rounded-full shadow-inner backdrop-blur-sm",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-1 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),e.jsxs("span",{children:["Credits: ",e.jsx("span",{className:"font-bold text-white",children:"35"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(S,{variant:"ghost",size:"icon",className:"relative text-white hover:text-green-400 transition-colors duration-150",onClick:u,children:[e.jsx(Ea,{className:"h-6 w-6"}),i>0&&e.jsx("span",{className:"absolute top-0 right-0 w-4 h-4 bg-red-500 text-xs text-white font-bold rounded-full flex items-center justify-center shadow-md",children:i>9?"9+":i})]}),s&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white text-black rounded-md shadow-2xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"p-3 border-b border-gray-100 flex justify-between items-center bg-gray-100",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Notifications"}),e.jsx(S,{variant:"ghost",size:"sm",className:"text-xs text-primary h-auto py-1",onClick:()=>ot("POST","/api/notifications/read-all").then(()=>n()),children:"Mark all as read"})]}),e.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto",children:r.length===0?e.jsx("div",{className:"py-6 px-4 text-center text-gray-500",children:e.jsx("p",{children:"No notifications"})}):r.map(l=>e.jsx(Xn,{notification:l},l.id))})]})]}),e.jsxs($s,{children:[e.jsx(Ls,{asChild:!0,children:e.jsx(S,{variant:"ghost",className:"rounded-full h-9 w-9 p-0 ring-2 ring-white/20 hover:ring-green-400 transition",children:e.jsxs(Te,{children:[e.jsx(Ae,{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80",alt:"User"}),e.jsx(Me,{children:p(t==null?void 0:t.fullName)})]})})}),e.jsxs(Ze,{align:"end",children:[e.jsx(Os,{children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:(t==null?void 0:t.fullName)||(t==null?void 0:t.username)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(t==null?void 0:t.role)||"HR Manager"})]})}),e.jsx(Ue,{}),e.jsx(ee,{children:"Profile"}),e.jsx(ee,{children:"Settings"}),e.jsx(Ue,{}),e.jsx(ee,{children:"Sign out"})]})]})]})]})})}function re({children:t,title:s}){return e.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[e.jsx(Qn,{}),e.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsx(Zn,{}),e.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar bg-background p-6",children:[s&&e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h1",{className:"text-2xl font-display font-bold text-text",children:s})}),t]})]})]})}const lt={primary:{bg:"bg-indigo-100",icon:"text-indigo-600",changeUp:"text-green-600",changeDown:"text-red-600"},secondary:{bg:"bg-pink-100",icon:"text-pink-600",changeUp:"text-green-600",changeDown:"text-red-600"},accent:{bg:"bg-yellow-100",icon:"text-yellow-600",changeUp:"text-green-600",changeDown:"text-red-600"}};function he({title:t,value:s,change:a,icon:r,color:n="primary"}){const i={"file-list":e.jsx(Ge,{className:"w-6 h-6"}),"user-search":e.jsx(Fa,{className:"w-6 h-6"}),time:e.jsx(We,{className:"w-6 h-6"}),award:e.jsx(Ke,{className:"w-6 h-6"})},u=lt[n]||lt.primary;return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`${u.bg} p-3 rounded-lg`,children:e.jsx("div",{className:`${u.icon}`,children:i[r]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-500 font-semibold text-sm tracking-wide uppercase",children:t}),e.jsx("p",{className:"text-3xl font-extrabold text-gray-900",children:s})]})]}),a&&e.jsx("div",{className:"mt-4 flex items-center space-x-2 text-sm font-medium",children:a.direction?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:a.direction==="up"?u.changeUp:u.changeDown,children:[a.direction==="up"?e.jsx("svg",{className:"inline w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 15l7-7 7 7"})}):e.jsx("svg",{className:"inline w-4 h-4 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 9l-7 7-7-7"})}),a.value]}),e.jsx("span",{className:"text-gray-400",children:a.text})]}):e.jsxs("span",{className:"text-gray-400",children:[a.value," ",a.text]})})]})}function eo({analyses:t}){return!t||t.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{className:"mb-6 text-base font-medium select-none",children:"No analyses in progress"}),e.jsx(K,{href:"/resume-analyzer",passHref:!0,children:e.jsx("a",{children:e.jsxs("button",{style:{backgroundColor:"#d7e0f66e",boxShadow:"0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},className:"inline-flex items-center px-5 py-3 bg-white/30 hover:shadow-lg transition-shadow duration-300 hover:bg-white/50 text-gray-800 font-semibold rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-400",children:[e.jsx(os,{className:"h-5 w-5 mr-2"}),"Start New Analysis"]})})})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job Title"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidates"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-text",children:s.jobTitle}),s.department&&e.jsx("div",{className:"text-xs text-gray-500",children:s.department})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.candidateCount})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:s.createdAt?ce(new Date(s.createdAt),{addSuffix:!0}):"Unknown date"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx(q,{variant:to(s.status),children:so(s.status)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsx(K,{href:`/results/${s.id}`,children:e.jsx(S,{variant:"ghost",size:"sm",children:"View"})})})]},s.id))})]})})}function to(t){switch(t){case"completed":return"success";case"processing":return"default";case"queued":return"secondary";case"failed":return"destructive";default:return"outline"}}function so(t){switch(t){case"completed":return"Completed";case"processing":return"Processing";case"queued":return"Queued";case"failed":return"Failed";default:return t}}const et=o.forwardRef(({className:t,value:s,...a},r)=>e.jsx(is,{ref:r,className:m("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(za,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));et.displayName=is.displayName;function ao({analysis:t}){const a=t.status==="queued"?0:t.status==="completed"?100:Math.floor(Math.random()*75)+15,r=()=>t.status==="queued"?"Starting soon":t.status==="completed"?"Completed":`~${Math.floor((100-a)/100*60)} min remaining`,n=()=>t.createdAt?ce(new Date(t.createdAt),{addSuffix:!1})+" ago":"Recently";return e.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(K,{href:`/results/${t.id}`,children:e.jsx("h3",{className:"font-medium text-text hover:text-primary cursor-pointer",children:t.jobTitle})}),e.jsx(q,{variant:t.status==="queued"?"secondary":"default",children:t.status==="queued"?"Queued":"Processing"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.candidateCount," candidate",t.candidateCount!==1?"s":""]}),e.jsx("div",{className:"mt-3 w-full",children:e.jsx(et,{value:a,className:"h-2"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsxs("span",{children:[t.status==="queued"?"Queued: ":"Started: ",n()]}),e.jsx("span",{children:r()})]})]})}function ro(){const{data:t=[]}=ae({queryKey:["/api/analyses"]}),s=t.filter(l=>l.status==="completed"),a=t.filter(l=>l.status==="processing"||l.status==="queued"),r=t.length,n=t.reduce((l,d)=>l+d.candidateCount,0),i=t.filter(l=>l.status==="queued").length,u=s.filter(l=>l.averageScore!==null).map(l=>l.averageScore),p=u.length>0?(u.reduce((l,d)=>l+d,0)/u.length).toFixed(1):"-";return e.jsxs(re,{title:"Dashboard",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(he,{title:"Total Analyses",value:r,change:{value:"14%",direction:"up",text:"from last month"},icon:"file-list",color:"primary"}),e.jsx(he,{title:"Candidates Processed",value:n,change:{value:"7%",direction:"up",text:"from last month"},icon:"user-search",color:"secondary"}),e.jsx(he,{title:"In Queue",value:i,change:{value:i>0?`${i} new`:"0 new",text:"in the last 24h"},icon:"time",color:"accent"}),e.jsx(he,{title:"Avg Match Score",value:`${p}%`,change:{value:"2.3%",direction:"up",text:"from last week"},icon:"award",color:"primary"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 flex flex-col",children:e.jsxs("div",{className:`flex flex-col bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl
                 shadow-lg hover:shadow-xl transition-shadow duration-300 flex-grow`,style:{minHeight:"400px"},children:[e.jsx("header",{className:"px-8 py-6 border-b border-white/30",children:e.jsx("h2",{className:"font-display font-semibold text-2xl text-gray-800 select-none",children:"Recent Analysis Results"})}),e.jsx("main",{className:"flex-grow p-6 overflow-auto",children:e.jsx(eo,{analyses:s.slice(0,4)})})]})}),e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:`flex flex-col bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl
                 shadow-lg hover:shadow-xl transition-shadow duration-300 flex-grow`,style:{minHeight:"400px"},children:[e.jsx("header",{className:"px-8 py-6 border-b border-white/30",children:e.jsx("h2",{className:"font-display font-semibold text-2xl text-gray-800 select-none",children:"In Progress"})}),e.jsx("main",{className:"flex-grow p-6 space-y-5 overflow-auto",children:a.length>0?a.slice(0,3).map(l=>e.jsx(ao,{analysis:l},l.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow text-gray-600 text-center",children:[e.jsx("p",{className:"mb-6 text-base font-medium select-none",children:"No analyses in progress"}),e.jsx(K,{href:"/resume-analyzer",passHref:!0,children:e.jsx("a",{children:e.jsxs("button",{style:{backgroundColor:"#d7e0f66e",boxShadow:"0 0 #0000, 0 0 #0000, 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},className:"inline-flex items-center px-5 py-3 bg-white/30 hover:bg-white/50 text-gray-800 font-semibold rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-400",children:[e.jsx(os,{className:"h-5 w-5 mr-2"}),"Start New Analysis"]})})})]})})]})})]})]})}function no({files:t,setFiles:s,onUploadProgress:a}){const[r,n]=o.useState(!1),[i,u]=o.useState(0),p=o.useCallback(x=>{const j=x.filter(C=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/zip","application/x-zip-compressed"].includes(C.type));if(j.length>10){const C=j.length;let g=0;const b=h=>{const N=Math.min(h+5,C),R=j.slice(h,N);g+=R.length;const k=Math.floor(g/C*100);u(k),a&&a(k),s(P=>[...P,...R]),N<C?setTimeout(()=>b(N),300):u(0)};b(0)}else s(C=>[...C,...j])},[s,a]),l=x=>{s(j=>j.filter((C,g)=>g!==x))},{getRootProps:d,getInputProps:w,isDragActive:v,open:y}=$a({onDrop:p,accept:{"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/zip":[".zip"],"application/x-zip-compressed":[".zip"]},maxSize:10485760*2,noClick:!1,noKeyboard:!0,onDragEnter:()=>n(!0),onDragLeave:()=>n(!1)}),f=x=>x==="application/zip"||x==="application/x-zip-compressed"?e.jsx(Oa,{className:"h-5 w-5 text-gray-500 mr-2 flex-shrink-0"}):e.jsx(Ge,{className:"h-5 w-5 text-gray-500 mr-2 flex-shrink-0"});return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{...d(),className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors
                   ${r||v?"border-primary bg-primary/5":"border-gray-300 bg-white"}`,children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(La,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600 justify-center",children:[e.jsxs("label",{className:"relative cursor-pointer rounded-md font-medium text-primary hover:text-primary-dark focus-within:outline-none",children:[e.jsx("span",{className:"mr-1",children:"Upload resumes"}),e.jsx("input",{...w()})]}),e.jsx("p",{children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, or ZIP up to 20MB each (max 200 files)"})]})}),(t==null?void 0:t.length)>0&&e.jsx("div",{className:"mt-4 space-y-2 max-h-60 overflow-y-auto",children:t.map((x,j)=>e.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center overflow-hidden",children:[f(x.type),e.jsx("span",{className:"truncate",children:x.name}),e.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",(x.size/1024).toFixed(1)," KB)"]})]}),e.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-red-500",onClick:()=>l(j),children:e.jsx(ye,{className:"h-4 w-4"})})]},j))}),i>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Processing large batch upload"}),e.jsxs("span",{children:[i,"%"]})]}),e.jsx(et,{value:i,className:"h-2"})]}),(t==null?void 0:t.length)>0&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[t.length," file",t.length!==1?"s":""," selected"]}),e.jsx(S,{variant:"link",onClick:()=>s([]),className:"text-sm ml-2 p-0 h-auto",children:"Clear all"})]})]})}const Bs=o.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:m("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s}));Bs.displayName="Textarea";const oo={"frontend-developer":"We're looking for a talented Frontend Developer who is passionate about building intuitive user interfaces. The ideal candidate has 3+ years of experience with modern JavaScript frameworks (React preferred), strong HTML/CSS skills, and experience with responsive design. Responsibilities include implementing UI components, collaborating with designers, and ensuring cross-browser compatibility.","backend-developer":"Our team is seeking a Backend Developer with expertise in building scalable services. You should have 4+ years of experience with server-side languages (Node.js, Python, or Java), database design, and API development. Experience with cloud platforms (AWS/Azure/GCP) and containerization is a plus. You'll be responsible for developing APIs, optimizing database performance, and ensuring system reliability.","data-scientist":"We're looking for a Data Scientist to extract valuable insights from our data. The ideal candidate has 3+ years of experience with statistical analysis, machine learning algorithms, and data visualization. Proficiency in Python and SQL is required. You'll be responsible for developing predictive models, analyzing trends, and communicating findings to stakeholders.","product-manager":"We're seeking a Product Manager to lead product development from conception to launch. The ideal candidate has 5+ years of experience in product management, a track record of shipping successful products, and excellent communication skills. You'll be responsible for defining product strategy, gathering requirements, and working with engineering and design teams to deliver exceptional user experiences.","ux-designer":"Our team is looking for a UX Designer who can create intuitive and engaging user experiences. The ideal candidate has 3+ years of experience in user-centered design, proficiency with design tools (Figma, Sketch), and experience conducting user research. You'll be responsible for creating wireframes, prototypes, and high-fidelity designs while collaborating with product and engineering teams."};function io({value:t,onChange:s,error:a}){const[r,n]=o.useState(!1),{toast:i}=X(),u=p=>{n(!0),setTimeout(()=>{s(oo[p]),n(!1),i({title:"Job description generated",description:"You can now edit the generated description or continue to the next step."})},1e3)};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(E,{children:"Job Description"}),e.jsxs("div",{className:"relative",children:[e.jsxs(S,{type:"button",variant:"ghost",size:"sm",className:"text-primary text-sm font-medium flex items-center",onClick:()=>document.getElementById("template-dropdown").classList.toggle("hidden"),children:[e.jsx(Ba,{className:"h-4 w-4 mr-1"}),"Generate with AI"]}),e.jsx("div",{id:"template-dropdown",className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10 hidden",children:e.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>u("frontend-developer"),disabled:r,children:"Frontend Developer"}),e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>u("backend-developer"),disabled:r,children:"Backend Developer"}),e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>u("data-scientist"),disabled:r,children:"Data Scientist"}),e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>u("product-manager"),disabled:r,children:"Product Manager"}),e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>u("ux-designer"),disabled:r,children:"UX Designer"})]})})]})]}),e.jsx(Bs,{value:t,onChange:p=>s(p.target.value),rows:5,placeholder:"Enter detailed job description or generate one with AI...",className:a?"border-destructive":""}),r&&e.jsx("div",{className:"text-sm text-muted-foreground animate-pulse",children:"Generating job description..."})]})}const oe=Qa,ie=Wa,te=o.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(ls,{ref:r,className:m("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(qa,{asChild:!0,children:e.jsx(Ce,{className:"h-4 w-4 opacity-50"})})]}));te.displayName=ls.displayName;const qs=o.forwardRef(({className:t,...s},a)=>e.jsx(cs,{ref:a,className:m("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ds,{className:"h-4 w-4"})}));qs.displayName=cs.displayName;const Vs=o.forwardRef(({className:t,...s},a)=>e.jsx(ms,{ref:a,className:m("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ce,{className:"h-4 w-4"})}));Vs.displayName=ms.displayName;const se=o.forwardRef(({className:t,children:s,position:a="popper",...r},n)=>e.jsx(Va,{children:e.jsxs(xs,{ref:n,className:m("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(qs,{}),e.jsx(Ua,{className:m("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Vs,{})]})}));se.displayName=xs.displayName;const lo=o.forwardRef(({className:t,...s},a)=>e.jsx(us,{ref:a,className:m("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));lo.displayName=us.displayName;const A=o.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(hs,{ref:r,className:m("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ha,{children:e.jsx(Se,{className:"h-4 w-4"})})}),e.jsx(Ja,{children:s})]}));A.displayName=hs.displayName;const co=o.forwardRef(({className:t,...s},a)=>e.jsx(ps,{ref:a,className:m("-mx-1 my-1 h-px bg-muted",t),...s}));co.displayName=ps.displayName;const mo={job_description:"We're looking for a talented Frontend Developer who is passionate about building intuitive user inte",resumes_received:2,files:["__MACOSX","Arjun_K_cv11978805_file.pdf"],candidates:[{name:"Arjun_K_cv11978805_file",evaluation:{clarity_and_structure:{score:9,analysis:"Clarity and structure evaluated with a score of 9."},relevant_experience:{score:6,analysis:"Relevant experience evaluated with a score of 6."},achievements:{score:9,analysis:"Achievements evaluated with a score of 9."},skills_match:{score:9,analysis:"Skills match evaluated with a score of 9."},professionalism:{score:9,analysis:"Professionalism evaluated with a score of 9."},overall:{score:10,analysis:"Overall, a good-quality resume with relevant strengths.",ranking:2}}}]},Us=o.createContext(void 0),xo=({children:t})=>{const[s,a]=o.useState("");return e.jsx(Us.Provider,{value:{analysisResults:s,setAnalysisResults:a},children:t})},Hs=()=>{const t=o.useContext(Us);if(!t)throw new Error("useMyContext must be used within a MyContextProvider");return t},uo=[{name:"Akhil Titus",email:"akhiltitusvalooran@gmail.com",contact:"9207807971",experience:2,location:"Thrissur, India",skills:["Embedded C","C++","Python","Rust","Octave","ARM Cortex-M","STM32","ESP32","AVR","FreeRTOS","Zephyr","Bare-metal programming","AWS IoT Core","Lambda","DynamoDB","SPI","I2C","UART","USB","CAN","GPIO","MQTT","BLE","Wi-Fi","ESP-IDF","ROS","Yocto Linux","Qt","Tkinter","Git","GitHub Actions"],education:"BTech in Electronics and Communication Engineering",evaluation:{clarity_and_structure:{score:9,analysis:"The resume is well-structured and clear, with a professional summary, skills section, and detailed experience."},relevant_experience:{score:6,analysis:"The candidate has experience in embedded systems and firmware development, but not directly in front-end development or React."},achievements:{score:8,analysis:"The candidate has achieved significant contributions to embedded firmware and system design, and has led R&D on new components and embedded OS integration."},skills_match:{score:4,analysis:"The candidate's skills are primarily in embedded systems and C/C++, with some Python experience, but not directly in React or front-end development."},professionalism:{score:8,analysis:"The resume is professionally written and formatted, with a clear and concise summary and experience section."},overall:{score:6,analysis:"The candidate has relevant experience in embedded systems, but lacks direct experience in front-end development or React.",ranking:3}}},{name:"MUHAMMAD SHAHIN K S",email:"kshahinsaleem@gmail.com",contact:"+918129260668",experience:1.7,location:"Thrissur, Kerala, 680655, India",skills:["Project Management","Team Management","Agile Methodologies","Support Team Coordination","Vendor Negotiation & Management","AI Research & Training"],education:"Bachelor of Technology in Electronics and Communication",evaluation:{clarity_and_structure:{score:8,analysis:"The resume is clear and well-structured, with a professional summary and detailed work experience."},relevant_experience:{score:4,analysis:"The candidate has experience in project management and AI research, but not directly in front-end development or React."},achievements:{score:7,analysis:"The candidate has achieved significant results in project management, including cost savings and operational efficiency improvements."},skills_match:{score:3,analysis:"The candidate's skills are primarily in project management and AI research, with no direct experience in React or front-end development."},professionalism:{score:7,analysis:"The resume is professionally written and formatted, with a clear and concise summary and experience section."},overall:{score:5,analysis:"The candidate has relevant experience in project management, but lacks direct experience in front-end development or React.",ranking:4}}},{name:"MUSTHAFA NOUSHAD",email:"musthafanoushad12@gmail.com",contact:"+91 90619 78599",skills:["Customer Relationship Management","Reporting & Documentation","Data Entry","Adaptability","Time Management"],education:"Bachelor of Commerce Finance",experience:0,location:"Mullassery House, Changanassery, Kottayam - 686101",evaluation:{clarity_and_structure:{score:8,analysis:"The resume is clear and well-structured, with a professional summary and detailed skills section."},relevant_experience:{score:3,analysis:"The candidate lacks direct experience in front-end development or React, with experience primarily in customer relations and data entry."},achievements:{score:5,analysis:"The candidate has some achievements in customer relations, but not directly relevant to front-end development or React."},skills_match:{score:2,analysis:"The candidate's skills are not directly relevant to front-end development or React."},professionalism:{score:7,analysis:"The resume is professionally written and formatted, with a clear and concise summary and skills section."},overall:{score:4,analysis:"The candidate lacks relevant experience and skills in front-end development or React.",ranking:5}}}],ho=()=>e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:e.jsxs("div",{class:"loader",children:[e.jsxs("div",{class:"box box-1",children:[e.jsx("div",{class:"side-left"}),e.jsx("div",{class:"side-right"}),e.jsx("div",{class:"side-top"})]}),e.jsxs("div",{class:"box box-2",children:[e.jsx("div",{class:"side-left"}),e.jsx("div",{class:"side-right"}),e.jsx("div",{class:"side-top"})]}),e.jsxs("div",{class:"box box-3",children:[e.jsx("div",{class:"side-left"}),e.jsx("div",{class:"side-right"}),e.jsx("div",{class:"side-top"})]}),e.jsxs("div",{class:"box box-4",children:[e.jsx("div",{class:"side-left"}),e.jsx("div",{class:"side-right"}),e.jsx("div",{class:"side-top"})]})]})}),po=M.object({name:M.string().min(3,"Analysis name must be at least 3 characters"),jobTitle:M.string().min(3,"Job title must be at least 3 characters"),department:M.string().optional(),jobDescription:M.string().min(20,"Job description must be at least 20 characters"),filters:M.object({experience:M.string().optional(),location:M.string().optional(),skills:M.string().optional(),education:M.string().optional(),industry:M.string().optional(),languages:M.string().optional(),prioritySkills:M.string().optional(),priorityExperience:M.string().optional(),priorityEducation:M.string().optional()}).optional()}),pe=({label:t,placeholder:s,name:a,control:r})=>e.jsx(V,{control:r,name:a,render:({field:n})=>e.jsxs(O,{className:"bg-white/70 rounded-3xl border p-5 shadow-inner",children:[e.jsx(E,{className:"text-gray-700 font-medium",children:t}),e.jsx(B,{children:e.jsx(U,{placeholder:s,...n,className:"mt-2 rounded-full px-4 py-2 bg-white shadow focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsx(J,{})]})});function fo(){const[t,s]=o.useState(!1),[a,r]=o.useState([]),[n,i]=Re(),[u,p]=o.useState(0),[l,d]=o.useState(!1),[w,v]=o.useState(null),{toast:y}=X(),{analysisResults:f,setAnalysisResults:x}=Hs(),[j,C]=o.useState(!1);o.useEffect(()=>{const N=new URLSearchParams(n.split("?")[1]).get("reanalysis");if(N){const k=JSON.parse(sessionStorage.getItem("analyses")||"[]").find(P=>P.id===parseInt(N));k&&(d(!0),v(k),g.reset({name:`${k.name} (Reanalysis)`,jobTitle:k.jobTitle,department:k.department,jobDescription:k.jobDescription,filters:k.filters||{experience:"",location:"",skills:"",education:"",industry:"",languages:"",prioritySkills:"regular",priorityExperience:"regular",priorityEducation:"regular"}}))}},[n]);const g=ze({resolver:Ka(po),defaultValues:{name:"",jobTitle:"",department:"",jobDescription:"",filters:{experience:"",location:"",skills:"",education:"",industry:"",languages:"",prioritySkills:"regular",priorityExperience:"regular",priorityEducation:"regular"}}});fe({mutationFn:async c=>{await new Promise(I=>setTimeout(I,1e3));const N=Math.floor(Math.random()*1e4)+1,R={id:N,...c,createdById:1,status:"processing",candidateCount:a.length,averageScore:0,createdAt:new Date().toISOString()},k=JSON.parse(sessionStorage.getItem("analyses")||"[]");k.push(R),sessionStorage.setItem("analyses",JSON.stringify(k));const P={id:Math.floor(Math.random()*1e4)+1,userId:1,title:"Analysis Started",message:`Your analysis "${c.name}" is now processing.`,type:"info",isRead:!1,createdAt:new Date().toISOString(),relatedId:N,relatedType:"analysis"},T=JSON.parse(sessionStorage.getItem("notifications")||"[]");return T.push(P),sessionStorage.setItem("notifications",JSON.stringify(T)),R},onSuccess:c=>{y({title:"Analysis created",description:"Your resume analysis has been started"}),b(c.id),setTimeout(()=>{i("/results")},1e3)},onError:c=>{y({title:"Error",description:c.message||"There was an error creating your analysis",variant:"destructive"})}});const b=async c=>{try{if(a.length>0){const N=(T,I)=>T<I*.1?Math.floor(Math.random()*8)+90:T<I*.3?Math.floor(Math.random()*9)+80:T<I*.6?Math.floor(Math.random()*9)+70:T<I*.9?Math.floor(Math.random()*9)+60:Math.floor(Math.random()*9)+50,k=[...a].sort(()=>Math.random()-.5).map((T,I)=>{const _=N(I,a.length);let L;return _>=90?L="exceptional":_>=80?L="strong":_>=70?L="qualified":_>=60?L="potential":L="notRecommended",{id:Math.floor(Math.random()*1e4)+I+1,analysisId:c,name:T.name.split(".")[0].replace(/_/g," "),email:`${T.name.split(".")[0].toLowerCase().replace(/_/g,".")}@example.com`,phone:`+1 (555) ${String(Math.floor(Math.random()*900)+100)}-${String(Math.floor(Math.random()*9e3)+1e3)}`,location:["San Francisco, CA","New York, NY","Seattle, WA","Austin, TX"][Math.floor(Math.random()*4)],experience:`${Math.floor(Math.random()*8)+1}.${Math.floor(Math.random()*9)} years`,education:["Bachelor","Master","PhD"][Math.floor(Math.random()*3)],skills:["JavaScript","React","Node.js","Python","SQL","Cloud"].slice(0,Math.floor(Math.random()*4)+2),matchScore:_,tier:L,resumeText:"Resume content would be here in a real application",createdAt:new Date().toISOString()}}),P=JSON.parse(sessionStorage.getItem("candidates")||"[]");sessionStorage.setItem("candidates",JSON.stringify([...P,...k])),setTimeout(()=>{const I=JSON.parse(sessionStorage.getItem("analyses")||"[]").map(W=>{if(W.id===c){const de=Math.round(k.reduce((me,xe)=>me+xe.matchScore,0)/k.length);return{...W,status:"completed",averageScore:de}}return W});sessionStorage.setItem("analyses",JSON.stringify(I));const _=JSON.parse(sessionStorage.getItem("notifications")||"[]"),L={id:Math.floor(Math.random()*1e4)+100,userId:1,title:"Analysis Complete",message:`Your analysis with ${k.length} candidate(s) is now ready to view.`,type:"success",isRead:!1,createdAt:new Date().toISOString(),relatedId:c,relatedType:"analysis"};_.push(L),sessionStorage.setItem("notifications",JSON.stringify(_)),be.invalidateQueries()},2e3)}}catch(N){console.error("Error simulating analysis progress:",N)}},h=async c=>{if(console.log("here"),a.length===0){y({title:"Missing resumes",description:"Please upload at least one resume to analyze",variant:"destructive"});return}C(!0);try{console.log("Data",c,a),localStorage.setItem("data",JSON.stringify(c));const N=new FormData;N.append("job_description",c==null?void 0:c.jobDescription),N.append("resumes_zip_file",a==null?void 0:a[0]);const k=await fetch("https://rayappan.pythonanywhere.com/api/",{method:"POST",body:N,mode:"cors",credentials:"omit"}),P=mo,T=await k.json();console.log("Res",T),x(T),T&&(C(!1),i("/results"))}catch(N){console.log(N),x({candidates:uo}),i("/results"),C(!1)}};return e.jsxs(re,{children:[j&&e.jsx(ho,{}),e.jsx("div",{className:"w-full py-0",children:e.jsxs("div",{className:"mx-auto max-w-6xl bg-white/80 backdrop-blur-lg shadow-2xl rounded-[32px] border border-gray-200 p-10",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 mb-3 tracking-tight",children:"Resume Analyzer"}),e.jsx("p",{className:"text-gray-500 text-lg mb-8",children:"Upload resumes and match them with job descriptions in style."}),e.jsx(Oe,{...g,children:e.jsxs("form",{onSubmit:g.handleSubmit(h),className:"space-y-10",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx(pe,{label:"Analysis Name",placeholder:"e.g. React Developer",name:"name",control:g.control}),e.jsx(pe,{label:"Job Title",placeholder:"e.g. Frontend Developer",name:"jobTitle",control:g.control})]}),e.jsx(pe,{label:"Department (optional)",placeholder:"e.g. Engineering",name:"department",control:g.control}),e.jsx(V,{control:g.control,name:"jobDescription",render:({field:c})=>e.jsxs(O,{className:"bg-white/60 rounded-3xl border p-6 shadow-inner",children:[e.jsx(E,{className:"text-lg text-gray-700",children:"Job Description"}),e.jsx(B,{children:e.jsx(io,{field:c,onChange:c==null?void 0:c.onChange})}),e.jsx(J,{})]})}),e.jsx("div",{className:"bg-blue-50/70 border border-dashed border-blue-400 rounded-3xl p-6",children:e.jsx(no,{uploadedFiles:a,setUploadedFiles:r,setUploadProgress:p,setFiles:r})}),(a==null?void 0:a.length)>0&&e.jsxs("div",{className:"mt-4 max-h-60 overflow-y-auto rounded-xl border p-4 bg-white shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Uploaded Resumes"}),e.jsx("ul",{className:"space-y-2",children:a==null?void 0:a.map((c,N)=>e.jsxs("li",{className:"text-sm text-gray-800 truncate border-b pb-1",children:["📄 ",c==null?void 0:c.name]},N))})]}),e.jsx("div",{className:"text-right",children:e.jsxs("button",{type:"button",className:"text-sm font-medium text-blue-700 hover:underline transition-all",onClick:()=>s(!t),children:[t?"Hide":"Show"," Advanced Filters"]})}),t&&e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 animate-fade-in",children:[["experience","location","skills","education","industry","languages"].map(c=>e.jsx(pe,{label:capitalize(c),placeholder:`Filter by ${c}`,name:`filters.${c}`,control:g.control},c)),["prioritySkills","priorityExperience","priorityEducation"].map(c=>e.jsx(V,{control:g.control,name:`filters.${c}`,render:({field:N})=>e.jsxs(O,{className:"bg-white/60 rounded-2xl border p-4 shadow-sm",children:[e.jsx(E,{className:"text-gray-700 font-medium",children:c.replace("priority","Priority ")}),e.jsx(B,{children:e.jsxs(oe,{value:N==null?void 0:N.value,children:[e.jsx(te,{className:"rounded-xl",children:e.jsx(ie,{placeholder:"Select Priority"})}),e.jsxs(se,{children:[e.jsx(A,{value:"high",children:"High"}),e.jsx(A,{value:"regular",children:"Regular"}),e.jsx(A,{value:"low",children:"Low"})]})]})})]})},c))]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(S,{type:"submit",className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 text-lg rounded-full shadow-lg transition-all",children:"Start Analysis"})})]})})]})})]})}function go({data:t,loading:s,onRefresh:a,onCancel:r}){return s?e.jsx("div",{className:"py-16 text-center text-gray-400 italic select-none",children:"Loading data..."}):!t||t.length===0?e.jsx("div",{className:"py-12 text-center text-gray-400 italic select-none",children:"No data found"}):e.jsxs("div",{className:`overflow-x-auto rounded-2xl border border-white/20 bg-white/10 backdrop-blur-lg shadow-lg
                 max-w-full`,children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-300 bg-white/30 rounded-2xl",children:[e.jsx("thead",{className:"bg-white/40 backdrop-blur-sm sticky top-0 z-10",children:e.jsx("tr",{children:["Analysis Name","Candidates","Created","Status","Progress","Actions"].map(n=>e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider select-none",children:n},n))})}),e.jsx("tbody",{children:t.map((n,i)=>{const u=n.progress||0;return e.jsxs("tr",{className:`transition-transform duration-200 ease-in-out cursor-pointer
                           ${i%2===0?"bg-white/20":"bg-white/10"}
                           hover:scale-[1.02] hover:bg-white/30`,children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:n==null?void 0:n.title}),e.jsx("div",{className:"text-xs text-gray-500",children:(n==null?void 0:n.department)||(n==null?void 0:n.name)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-800 font-medium",children:n==null?void 0:n.number_of_resumes}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600 font-mono text-sm",children:n==null?void 0:n.creation_time}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-full
                                ${(n==null?void 0:n.status)==="queued"?"bg-yellow-200 text-yellow-800":"bg-blue-200 text-blue-800"}`,children:(n==null?void 0:n.status)==="queued"?"Queued":"Processing"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap w-56",children:[e.jsx("div",{className:"relative h-3 bg-gradient-to-r from-blue-200 via-blue-400 to-blue-600 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"absolute top-0 left-0 h-3 bg-gradient-to-r from-blue-500 to-blue-700 rounded-full transition-all duration-500 ease-out",style:{width:`${u}%`}})}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1 font-mono",children:[u,"% — ",(n==null?void 0:n.estimatedTime)||"Estimating..."]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:e.jsx(S,{variant:"link",className:"text-red-600 hover:text-red-700 hover:underline",onClick:()=>r(n==null?void 0:n.id),"aria-label":`Cancel analysis ${n==null?void 0:n.title}`,children:"Cancel"})})]},n==null?void 0:n.id)})})]}),e.jsx("div",{className:"mt-6 px-6 py-3 border-t border-white/30 bg-white/20 backdrop-blur-sm flex justify-end rounded-b-2xl",children:e.jsx(S,{onClick:a,variant:"outline",size:"sm",className:"text-blue-700 border-blue-700 hover:bg-blue-700 hover:text-white transition-colors","aria-label":"Refresh table data",children:"Refresh"})})]})}function jo(){const{toast:t}=X(),[s,a]=o.useState([]),[r,n]=o.useState([]),[i,u]=o.useState(!1),p=async()=>{u(!0);try{const f=await fetch("http://127.0.0.1:8000/api/all-evaluations/",{method:"GET",headers:{Accept:"application/json"},mode:"cors",credentials:"omit"});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const x=await f.json();console.log("Fetched data:",x),a(x)}catch(y){console.error("Fetch error:",y),t({title:"Error",description:y.message||"Could not load analyses",variant:"destructive"})}finally{u(!1)}},l=async()=>{try{const y=await fetch("/api/notifications");if(!y.ok)throw new Error("Failed to fetch notifications");const f=await y.json();n(f)}catch(y){t({title:"Error",description:y.message||"Could not load notifications",variant:"destructive"})}};o.useEffect(()=>{p()},[]);const d=()=>{p(),l(),t({title:"Refreshed",description:"The queue has been refreshed"})},w=async y=>{try{if(!(await fetch(`/api/analyses/${y}/cancel`,{method:"POST"})).ok)throw new Error("Failed to cancel analysis");t({title:"Analysis cancelled",description:"The analysis has been cancelled"}),p(),l()}catch(f){t({title:"Error",description:f.message||"Failed to cancel analysis",variant:"destructive"})}},v=()=>{const y=r.map(f=>({...f,isRead:!0}));n(y),t({title:"Notifications updated",description:"All notifications marked as read"})};return e.jsx(re,{title:"Analysis Queue",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(F,{children:[e.jsx(H,{className:"px-6 py-5 border-b border-gray-100 flex justify-between items-center"}),e.jsx(z,{className:"p-0",children:e.jsx(go,{data:s,loading:i,onRefresh:d,onCancel:w})})]}),e.jsxs(F,{children:[e.jsx(H,{className:"px-6 py-5 border-b border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Q,{className:"font-display font-semibold text-lg text-text",children:"Notifications"}),e.jsx(S,{variant:"link",className:"text-primary text-sm p-0 h-auto",onClick:v,children:"Mark all as read"})]})}),e.jsx(z,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-gray-100",children:r.length===0?e.jsx("div",{className:"py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No notifications"})}):r.map(y=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${ct(y.type).bgColor}`,children:e.jsx("span",{className:`text-lg ${ct(y.type).textColor}`,children:bo(y.type)})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-text",children:y.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.message}),y.relatedId&&y.relatedType==="analysis"&&e.jsx("div",{className:"mt-2",children:e.jsx(K,{href:`/results/${y.relatedId}`,children:e.jsx(S,{variant:"link",className:"text-sm text-primary p-0 h-auto",children:"View Results"})})}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:ce(new Date(y.createdAt),{addSuffix:!0})})]})]})},y.id))})})]})]})})}function ct(t){switch(t){case"success":return{bgColor:"bg-green-100",textColor:"text-green-600"};case"error":return{bgColor:"bg-red-100",textColor:"text-red-600"};case"warning":return{bgColor:"bg-yellow-100",textColor:"text-yellow-600"};default:return{bgColor:"bg-gray-100",textColor:"text-gray-600"}}}function bo(t){switch(t){case"success":return"✓";case"error":return"⚠";case"warning":return"!";default:return"ℹ"}}function yo({candidates:t,loading:s}){const r=(()=>{if(!t||t.length===0)return{averageScore:0,top10Percent:0,averageExperience:0,skillsCoverage:0,top10Count:0,experienceLevel:"Junior"};const i=t.map(b=>{let h=0;return b.evaluation&&b.evaluation.skills_match?h=b.evaluation.skills_match.score/10*100:b.evaluation&&b.evaluation.overall&&(h=b.evaluation.overall.score/10*100),{...b,matchScore:h}}),p=i.reduce((b,h)=>b+h.matchScore,0)/t.length,l=i.filter(b=>b.matchScore>=90).length,d=l>0?l/t.length*100:0,w=b=>{if(typeof b.experience=="number")return b.experience;if(typeof b.experience=="string"){const h=b.experience.match(/(\d+\.?\d*)/);return h?parseFloat(h[1]):0}return 0},f=t.map(w).reduce((b,h)=>b+h,0)/t.length;let x="Junior";f>=5?x="Senior":f>=2&&(x="Mid-level");const j=20,g=t.map(b=>{const h=Array.isArray(b.skills)?b.skills:[];return Math.min(100,h.length/j*100)}).reduce((b,h)=>b+h,0)/t.length;return{averageScore:p.toFixed(0),top10Percent:d.toFixed(0),averageExperience:f.toFixed(1),skillsCoverage:g.toFixed(0),top10Count:l,experienceLevel:x}})(),n=({value:i})=>e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-3",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${Math.min(100,Math.max(0,i))}%`}})});return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Average Match Score"}),e.jsx("div",{className:"p-1 rounded-md bg-blue-100",children:e.jsx(Ke,{className:"h-5 w-5 text-blue-600"})})]}),e.jsx("p",{className:"text-3xl font-semibold text-gray-900 mt-2",children:s?"...":`${r.averageScore}%`}),e.jsx(n,{value:r.averageScore}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Based on evaluation scores"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Top Candidates Ratio"}),e.jsx("div",{className:"p-1 rounded-md bg-blue-100",children:e.jsx(Ga,{className:"h-5 w-5 text-blue-600"})})]}),e.jsx("p",{className:"text-3xl font-semibold text-gray-900 mt-2",children:s?"...":`${r.top10Percent}%`}),e.jsx(n,{value:r.top10Percent}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:s?"...":`${r.top10Count} candidates scored above 90%`})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Experience Level"}),e.jsx("div",{className:"p-1 rounded-md bg-blue-100",children:e.jsx(Ya,{className:"h-5 w-5 text-blue-600"})})]}),e.jsx("p",{className:"text-3xl font-semibold text-gray-900 mt-2",children:s?"...":`${r.averageExperience} yrs`}),e.jsx(n,{value:Math.min(100,r.averageExperience*15)}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Junior"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Mid-level"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Senior"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Skills Coverage"}),e.jsx("div",{className:"p-1 rounded-md bg-blue-100",children:e.jsx(Xa,{className:"h-5 w-5 text-blue-600"})})]}),e.jsx("p",{className:"text-3xl font-semibold text-gray-900 mt-2",children:s?"...":`${r.skillsCoverage}%`}),e.jsx(n,{value:r.skillsCoverage}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:s?"...":"Average skills per candidate"})]})]})}function vo({candidates:t,loading:s,sortType:a}){const[r,n]=o.useState(""),[i,u]=o.useState(1),[p]=o.useState(10),{toast:l}=X(),d=t.filter(h=>{var N,R,k;if(!r)return!0;const c=r.toLowerCase();return((N=h.name)==null?void 0:N.toLowerCase().includes(c))||((R=h.email)==null?void 0:R.toLowerCase().includes(c))||((k=h.location)==null?void 0:k.toLowerCase().includes(c))||Array.isArray(h.skills)&&h.skills.some(P=>P.toLowerCase().includes(c))}),w=[...d].sort((h,c)=>{var N,R,k,P,T,I,_,L,W,de,me,xe,tt;switch(a){case"match":return(c.matchScore||0)-(h.matchScore||0);case"experience":const Js=parseFloat(((R=(N=h.experience)==null?void 0:N.match(/[\d.]+/))==null?void 0:R[0])||"0");return parseFloat(((P=(k=c.experience)==null?void 0:k.match(/[\d.]+/))==null?void 0:P[0])||"0")-Js;case"education":const st={PhD:3,Master:2,Bachelor:1},Qs=st[h.education]||0;return(st[c.education]||0)-Qs;case"name":return((T=h.name)==null?void 0:T.localeCompare(c.name||""))||0;case"rank":const Ws=((_=(I=h.evaluation)==null?void 0:I.overall)==null?void 0:_.ranking)||1/0,Ks=((W=(L=c.evaluation)==null?void 0:L.overall)==null?void 0:W.ranking)||1/0;return Ws-Ks;default:const Gs=((me=(de=h.evaluation)==null?void 0:de.overall)==null?void 0:me.score)||0;return(((tt=(xe=c.evaluation)==null?void 0:xe.overall)==null?void 0:tt.score)||0)-Gs}}),v=i*p,y=v-p,f=w.slice(y,v),x=Math.ceil(d.length/p),j=h=>{l({title:"Contact initiated",description:`An email has been sent to ${h.email}`})},C=h=>{l({title:"Viewing candidate details",description:`Details for ${h.name}`})},g=h=>h>=90||h>=70?"bg-green-100 text-green-800":h>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",b=h=>h>=90?"Excellent":h>=70?"Good":h>=50?"Average":"Poor";return e.jsxs(F,{children:[e.jsxs(H,{className:"px-6 py-5 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs(Q,{className:"font-display font-semibold text-lg text-text",children:["Candidates (",d.length,")"]}),e.jsxs("div",{className:"relative mt-2 sm:mt-0 w-full sm:w-64",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(U,{placeholder:"Search candidates...",className:"pl-9",value:r,onChange:h=>n(h.target.value)})]})]}),e.jsx(z,{className:"p-0",children:s?e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Loading candidates..."})}):d.length===0?e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No candidates found"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Experience"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match Score"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Skills"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map((h,c)=>{var N,R,k,P,T,I,_;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:c+1})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:e.jsxs(Te,{children:[e.jsx(Ae,{src:`https://source.unsplash.com/random/100x100?face&${c}`,alt:h.name}),e.jsx(Me,{children:((N=h.name)==null?void 0:N[0])||"C"})]})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-text",children:h.name}),e.jsx("div",{className:"text-sm text-gray-500",children:h.education||"Unknown education"})]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-text",children:h.email}),e.jsx("div",{className:"text-sm text-gray-500",children:h.contact||"No phone provided"})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-text",children:h.experience||"0"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-text",children:h.location||"Unknown"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g(((k=(R=h==null?void 0:h.evaluation)==null?void 0:R.overall)==null?void 0:k.score)*10)}`,children:[e.jsxs("span",{className:"font-bold mr-1",children:[((T=(P=h==null?void 0:h.evaluation)==null?void 0:P.overall)==null?void 0:T.score)*10,"%"]}),b(((_=(I=h==null?void 0:h.evaluation)==null?void 0:I.overall)==null?void 0:_.score)*10)]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:Array.isArray(h.skills)?e.jsxs(e.Fragment,{children:[h.skills.slice(0,3).map((L,W)=>e.jsx(q,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:L},W)),h.skills.length>3&&e.jsxs(q,{variant:"outline",className:"bg-gray-100 text-gray-800",children:["+",h.skills.length-3]})]}):e.jsx("span",{className:"text-xs text-gray-500",children:"No skills listed"})})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsxs(S,{variant:"ghost",size:"sm",className:"text-primary mr-1",onClick:()=>C(h),children:[e.jsx(Za,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(S,{variant:"ghost",size:"sm",className:"text-green-600",onClick:()=>j(h),children:[e.jsx(er,{className:"h-4 w-4 mr-1"}),"Contact"]})]})]},h.id||c)})})]})}),x>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-medium",children:y+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(v,d.length)})," ","of ",e.jsx("span",{className:"font-medium",children:d.length})," candidates"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",onClick:()=>u(h=>Math.max(h-1,1)),disabled:i===1,children:"Previous"}),Array.from({length:Math.min(x,5)}).map((h,c)=>{const N=c+1;return e.jsx(S,{variant:"outline",size:"sm",className:i===N?"bg-primary text-white":"",onClick:()=>u(N),children:N},c)}),x>5&&e.jsxs(e.Fragment,{children:[e.jsx(S,{variant:"outline",size:"sm",disabled:!0,children:"..."}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>u(x),children:x})]}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>u(h=>Math.min(h+1,x)),disabled:i===x,children:"Next"})]})]})})]})})]})}function No({candidates:t}){const s=[...t].sort((n,i)=>i.matchScore-n.matchScore).slice(0,5),a=n=>typeof n=="string"?n.split(",").map(i=>i.trim()):Array.isArray(n)?n:[],r=n=>n===0?e.jsx(q,{className:"bg-yellow-500",children:"#1"}):n===1?e.jsx(q,{className:"bg-gray-400",children:"#2"}):n===2?e.jsx(q,{className:"bg-amber-700",children:"#3"}):e.jsxs(q,{variant:"outline",children:["#",n+1]});return e.jsxs(F,{children:[e.jsx(H,{className:"pb-2",children:e.jsxs(Q,{className:"text-lg font-medium flex items-center gap-2",children:[e.jsx(Ke,{className:"h-5 w-5 text-yellow-500"}),"Top Candidates"]})}),e.jsx(z,{children:e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No candidates found"}):s.map((n,i)=>e.jsxs("div",{className:`p-4 rounded-lg flex items-start gap-4 ${i===0?"bg-yellow-50 border border-yellow-100":"hover:bg-gray-50"}`,children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${i===0?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:i===0?e.jsx(fs,{className:"h-5 w-5"}):e.jsx(gs,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium",children:n.name}),r(i),e.jsx("div",{className:"ml-auto",children:e.jsxs("span",{className:`font-bold ${n.matchScore>=90?"text-green-600":n.matchScore>=80?"text-blue-600":"text-gray-700"}`,children:[n.matchScore,"%"]})})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.experience," • ",n.education," • ",n.location]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[a(n.skills).slice(0,3).map((u,p)=>e.jsx(q,{variant:"outline",className:"mr-1 mb-1",children:u},p)),a(n.skills).length>3&&e.jsxs(q,{variant:"outline",className:"bg-gray-50",children:["+",a(n.skills).length-3]})]}),e.jsx("div",{className:"mt-3",children:e.jsx(S,{variant:"link",size:"sm",className:"h-auto p-0 text-primary",children:"View Resume"})})]})]},n.id))})})]})}function wo({candidates:t}){const[s,a]=o.useState({exceptional:!0,strong:!0,qualified:!1,potential:!1,notRecommended:!1}),r=d=>d>=90?"exceptional":d>=80?"strong":d>=70?"qualified":d>=60?"potential":"notRecommended",i=t.map((d,w)=>{var y,f,x,j,C,g,b,h,c,N,R,k;const v=((f=(y=d.evaluation)==null?void 0:y.overall)==null?void 0:f.score)*10||0;return{id:w,name:d.name.replace(/_/g," "),matchScore:v,tier:r(v),experience:`${(j=(x=d.evaluation)==null?void 0:x.relevant_experience)==null?void 0:j.score}/10`||"N/A",education:`${(g=(C=d.evaluation)==null?void 0:C.achievements)==null?void 0:g.score}/10`||"N/A",location:`${(h=(b=d.evaluation)==null?void 0:b.professionalism)==null?void 0:h.score}/10`||"N/A",skills:[`Clarity: ${(N=(c=d.evaluation)==null?void 0:c.clarity_and_structure)==null?void 0:N.score}/10`,`Skills Match: ${(k=(R=d.evaluation)==null?void 0:R.skills_match)==null?void 0:k.score}/10`]}}).reduce((d,w)=>{const v=w.tier;return d[v]||(d[v]=[]),d[v].push(w),d},{}),u={exceptional:{label:"Exceptional Matches",description:"These candidates closely match the job requirements",icon:fs,color:"text-yellow-500",bgColor:"bg-yellow-50",borderColor:"border-yellow-100",textColor:"text-yellow-700"},strong:{label:"Strong Matches",description:"These candidates match most of the job requirements",icon:nr,color:"text-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-100",textColor:"text-blue-700"},qualified:{label:"Qualified Candidates",description:"These candidates meet the minimum requirements",icon:rr,color:"text-green-500",bgColor:"bg-green-50",borderColor:"border-green-100",textColor:"text-green-700"},potential:{label:"Potential Fits",description:"These candidates may need additional training",icon:ar,color:"text-gray-500",bgColor:"bg-gray-50",borderColor:"border-gray-100",textColor:"text-gray-700"},notRecommended:{label:"Not Recommended",description:"These candidates do not match the requirements",icon:sr,color:"text-red-500",bgColor:"bg-red-50",borderColor:"border-red-100",textColor:"text-red-700"}},p=d=>{a({...s,[d]:!s[d]})},l=d=>{const w=u[d],v=i[d]||[],y=v.length;if(y===0)return null;const f=w.icon;return e.jsxs("div",{className:`rounded-lg overflow-hidden mb-4 ${w.borderColor} border`,children:[e.jsxs("div",{className:`p-4 ${w.bgColor} flex items-center justify-between cursor-pointer`,onClick:()=>p(d),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:`h-5 w-5 ${w.color} mr-2`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:w.label}),e.jsx("p",{className:"text-sm text-gray-600",children:w.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-sm font-medium",children:[y," candidates"]})}),e.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s[d]?e.jsx(ds,{size:16}):e.jsx(Ce,{size:16})})]})]}),s[d]&&e.jsx("div",{className:"p-3 bg-white",children:e.jsx("div",{className:"grid grid-cols-1 gap-3",children:v.map(x=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded flex flex-col sm:flex-row sm:items-center",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"font-medium text-sm",children:x.name}),e.jsxs(q,{className:"ml-2",children:[x.matchScore,"%"]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Experience: ",x.experience," • Education Score: ",x.education," • Professionalism: ",x.location]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:x.skills.map((j,C)=>e.jsx(q,{variant:"outline",className:"mr-1 mb-1 text-xs",children:j},C))})]}),e.jsx("div",{className:"mt-3 sm:mt-0 flex sm:flex-col items-center sm:items-end",children:e.jsx(S,{variant:"link",size:"sm",className:"h-auto p-0 text-primary",children:"View Resume"})})]},x.id))})})]},d)};return e.jsxs(F,{children:[e.jsx(H,{className:"pb-2",children:e.jsxs(Q,{className:"text-lg font-medium flex items-center gap-2",children:[e.jsx(tr,{className:"h-5 w-5 text-gray-500"}),"Candidates by Tier"]})}),e.jsxs(z,{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 pb-4 border-b",children:[e.jsx("span",{className:"text-sm font-medium",children:"Score Tiers:"}),e.jsxs("div",{className:"flex items-center text-xs text-yellow-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-1"}),"90-100% Exceptional"]}),e.jsxs("div",{className:"flex items-center text-xs text-blue-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500 mr-1"}),"80-89% Strong"]}),e.jsxs("div",{className:"flex items-center text-xs text-green-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500 mr-1"}),"70-79% Qualified"]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-gray-500 mr-1"}),"60-69% Potential"]}),e.jsxs("div",{className:"flex items-center text-xs text-red-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500 mr-1"}),"Below 60% Not Recommended"]})]}),Object.keys(u).map(d=>l(d))]})]})}or.register(ir,lr,cr,dr,mr,xr,ur);function Co({candidates:t,loading:s}){if(s||!t||t.length===0)return e.jsx("div",{className:"text-center py-8",children:"Loading chart data..."});const a=So(t),r={labels:["Education","Experience","Skills","Languages","Soft Skills"],datasets:[{label:"Average Score (%)",data:[a.education,a.experience,a.skills,a.languages,a.softSkills],backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},n=ko(t),i={labels:["0-20%","21-40%","41-60%","61-80%","81-100%"],datasets:[{label:"Number of Candidates",data:[n["0-20"],n["21-40"],n["41-60"],n["61-80"],n["81-100"]],backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},u=Ro(t),p={labels:["0-1 yrs","1-3 yrs","3-5 yrs","5+ yrs"],datasets:[{data:[u["0-1"],u["1-3"],u["3-5"],u["5+"]],backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]};return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[e.jsxs(F,{children:[e.jsx(H,{children:e.jsx(Q,{children:"Category Scores Analysis"})}),e.jsx(z,{className:"h-[300px]",children:e.jsx(rt,{data:r,options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Average Scores by Category"},legend:{display:!1}}}})})]}),e.jsxs(F,{children:[e.jsx(H,{children:e.jsx(Q,{children:"Score Distribution"})}),e.jsx(z,{className:"h-[300px]",children:e.jsx(rt,{data:i,options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Candidate Match Score Distribution"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Candidates"}}}}})})]}),e.jsxs(F,{children:[e.jsx(H,{children:e.jsx(Q,{children:"Experience Level Distribution"})}),e.jsx(z,{className:"h-[300px]",children:e.jsx(hr,{data:p,options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Candidate Experience Breakdown"},legend:{position:"right"}},cutout:"70%"}})})]})]})}function So(t){const s={education:0,experience:0,skills:0,languages:0,softSkills:0};return t.forEach(a=>{var r,n,i,u,p,l,d,w,v,y;s.education+=((n=(r=a.evaluation)==null?void 0:r.education_relevance)==null?void 0:n.score)||0,s.experience+=((u=(i=a.evaluation)==null?void 0:i.relevant_experience)==null?void 0:u.score)||0,s.skills+=((l=(p=a.evaluation)==null?void 0:p.skills_match)==null?void 0:l.score)||0,s.languages+=((w=(d=a.evaluation)==null?void 0:d.language_proficiency)==null?void 0:w.score)||0,s.softSkills+=((y=(v=a.evaluation)==null?void 0:v.soft_skills)==null?void 0:y.score)||0}),{education:Math.round(s.education/t.length*10),experience:Math.round(s.experience/t.length*10),skills:Math.round(s.skills/t.length*10),languages:Math.round(s.languages/t.length*10),softSkills:Math.round(s.softSkills/t.length*10)}}function ko(t){const s={"0-20":0,"21-40":0,"41-60":0,"61-80":0,"81-100":0};return t.forEach(a=>{var n,i;const r=((i=(n=a.evaluation)==null?void 0:n.overall)==null?void 0:i.score)*10||0;r<=20?s["0-20"]++:r<=40?s["21-40"]++:r<=60?s["41-60"]++:r<=80?s["61-80"]++:s["81-100"]++}),s}function Ro(t){const s={"0-1":0,"1-3":0,"3-5":0,"5+":0};return t.forEach(a=>{const r=a.experience||0;r<=1?s["0-1"]++:r<=3?s["1-3"]++:r<=5?s["3-5"]++:s["5+"]++}),s}function dt(){var f,x;const{id:t}=pr(),[,s]=Re(),{toast:a}=X(),[r,n]=o.useState("match"),{analysisResults:i,setAnalysisResults:u}=Hs();console.log("analysisResults",i);const{data:p=[]}=ae({queryKey:["/api/analyses"],queryFn:()=>JSON.parse(sessionStorage.getItem("analyses")||"[]")}),l=t?p.find(j=>j.id===parseInt(t)):p.find(j=>j.status==="completed")||p[0];o.useEffect(()=>{!t&&l&&s(`/results/${l.id}`)},[t,l,s]);const{data:d=[],isLoading:w}=ae({queryKey:["/api/analyses",l==null?void 0:l.id,"candidates"],enabled:!!(l!=null&&l.id),queryFn:()=>JSON.parse(sessionStorage.getItem("candidates")||"[]").filter(g=>g.analysisId===l.id)}),v=()=>{if(!(i!=null&&i.candidates)||i.candidates.length===0){a({title:"Export Failed",description:"No candidate data available to export.",variant:"destructive"});return}try{const j=i.candidates.map(c=>{var N,R,k,P,T,I;return{Name:(c==null?void 0:c.name)||"N/A",Email:(c==null?void 0:c.email)||"N/A",Contact:(c==null?void 0:c.contact)||"N/A",Experience:(c==null?void 0:c.experience)||"N/A",Location:(c==null?void 0:c.location)||"N/A",Skills:Array.isArray(c==null?void 0:c.skills)?c.skills.join(", "):"N/A",Education:(c==null?void 0:c.education)||"N/A","Match Score":((R=(N=c==null?void 0:c.evaluation)==null?void 0:N.overall)==null?void 0:R.score)??"N/A","Skills Match":((P=(k=c==null?void 0:c.evaluation)==null?void 0:k.skills_match)==null?void 0:P.score)??"N/A","Experience Match":((I=(T=c==null?void 0:c.evaluation)==null?void 0:T.relevant_experience)==null?void 0:I.score)??"N/A"}}),C=Pe.json_to_sheet(j),g=Pe.book_new();Pe.book_append_sheet(g,C,"Candidates");const h=`candidates_${((l==null?void 0:l.jobTitle)||"analysis").replace(/[/\\?%*:|"<>]/g,"_")}.xlsx`;jr(g,h),a({title:"Excel Exported",description:"Candidate data has been successfully exported to Excel."})}catch(j){console.error("Excel export failed:",j),a({title:"Export Failed",description:"An error occurred while exporting to Excel.",variant:"destructive"})}},y=async()=>{var j,C;try{const{jsPDF:g}=await nt(async()=>{const{jsPDF:c}=await import("./vendor-DzRdYV-N.js").then(N=>N.bU);return{jsPDF:c}},[]);await nt(()=>import("./vendor-DzRdYV-N.js").then(c=>c.bV),[]);const b=new g;br(b,{head:[["Name","Score"]],body:d.map(c=>[c.name,c.score])}),b.save("results.pdf"),b.setFontSize(18),b.text(`Candidate Analysis: ${(l==null?void 0:l.jobTitle)||"Untitled"}`,14,15),b.setFontSize(12),b.text(`Generated on ${new Date().toLocaleDateString()}`,14,22);const h=((j=i==null?void 0:i.candidates)==null?void 0:j.map(c=>{var N,R;return[c.name||"N/A",c.email||"N/A",c.contact||"N/A",c.experience||"N/A",((R=(N=c.evaluation)==null?void 0:N.overall)==null?void 0:R.score)||"N/A"]}))||[];b.autoTable({head:[["Name","Email","Contact","Experience","Match Score"]],body:h,startY:30}),b.save(`candidates_${((C=l==null?void 0:l.jobTitle)==null?void 0:C.replace(/[/\\?%*:|"<>]/g,"-"))||"analysis"}.pdf`),a({title:"PDF exported",description:"Candidate data has been exported to PDF."})}catch(g){console.error("PDF export error:",g),a({title:"Export failed",description:"Error exporting to PDF",variant:"destructive"})}};return(i==null?void 0:i.candidates)<=0?e.jsx(re,{title:"Analysis Results",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"No analysis results found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Start a new analysis to see results here"}),e.jsx(S,{onClick:()=>s("/resume-analyzer"),children:"Start New Analysis"})]})}):(console.log("localStorage?.getItem(data)",JSON.parse(localStorage==null?void 0:localStorage.getItem("data"))),e.jsx(re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-display font-bold text-text",children:"Analysis Results"}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs($s,{children:[e.jsx(Ls,{asChild:!0,children:e.jsxs(S,{variant:"outline",children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),"Export"]})}),e.jsxs(Ze,{children:[e.jsxs(ee,{onClick:v,children:[e.jsx(gr,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Export as Excel"})]}),e.jsxs(ee,{onClick:y,children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Export as PDF"})]})]})]})})]}),e.jsx(F,{children:e.jsx(z,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:(l==null?void 0:l.jobTitle)||((f=JSON.parse(localStorage==null?void 0:localStorage.getItem("data")))==null?void 0:f.jobTitle)}),e.jsxs("p",{className:"text-gray-500 mt-1 text-sm",children:["Job ID: ",(l==null?void 0:l.jobId)||"JD-2023-0042"," • ",(l==null?void 0:l.candidateCount)||"0"," candidates analyzed"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${(l==null?void 0:l.status)==="completed"?"bg-green-100 text-green-800":(l==null?void 0:l.status)==="processing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:(l==null?void 0:l.status)==="completed"?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Completed"]}):(l==null?void 0:l.status)==="processing"?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1 animate-spin",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Processing"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Pending"]})}),e.jsxs(oe,{value:r,onValueChange:n,children:[e.jsx(te,{className:"w-[180px] bg-white border-gray-300",children:e.jsx(ie,{placeholder:"Sort by"})}),e.jsxs(se,{children:[e.jsx(A,{value:"match",children:"Match Score"}),e.jsx(A,{value:"experience",children:"Experience"}),e.jsx(A,{value:"education",children:"Education"}),e.jsx(A,{value:"name",children:"Name"})]})]})]})]})})}),e.jsx(yo,{candidates:i==null?void 0:i.candidates,loading:w}),!w&&d.length>0&&e.jsx(No,{candidates:d}),e.jsx(Co,{candidates:i==null?void 0:i.candidates,loading:w}),!w&&((x=i==null?void 0:i.candidates)==null?void 0:x.length)>0&&e.jsx(wo,{candidates:i==null?void 0:i.candidates}),e.jsx(vo,{candidates:(i==null?void 0:i.candidates)||d,loading:w,sortType:r})]})}))}function To(){const[t,s]=o.useState("all-time"),[a,r]=o.useState("all"),[n,i]=o.useState("all"),[u,p]=o.useState(""),{data:l=[]}=ae({queryKey:["/api/analyses"]}),d=l.filter(v=>{if(u&&!v.name.toLowerCase().includes(u.toLowerCase())&&!v.jobTitle.toLowerCase().includes(u.toLowerCase())||n!=="all"&&v.status!==n||a!=="all"&&v.department!==a)return!1;if(t!=="all-time"){const y=new Date(v.createdAt),f=new Date;if(t==="last-7"&&f-y>7*24*60*60*1e3)return!1;if(t==="last-30"&&f-y>30*24*60*60*1e3)return!1;if(t==="last-90"&&f-y>90*24*60*60*1e3)return!1}return!0}),w=[...d].sort((v,y)=>new Date(y.createdAt)-new Date(v.createdAt));return e.jsx(re,{title:"Analysis History",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(U,{placeholder:"Search history...",className:"pl-9",value:u,onChange:v=>p(v.target.value)})]}),e.jsxs(S,{variant:"outline",children:[e.jsx(yr,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),e.jsx(F,{children:e.jsx(z,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"date-range",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs(oe,{value:t,onValueChange:s,children:[e.jsx(te,{id:"date-range",children:e.jsx(ie,{placeholder:"All Time"})}),e.jsxs(se,{children:[e.jsx(A,{value:"all-time",children:"All Time"}),e.jsx(A,{value:"last-7",children:"Last 7 days"}),e.jsx(A,{value:"last-30",children:"Last 30 days"}),e.jsx(A,{value:"last-90",children:"Last 90 days"}),e.jsx(A,{value:"custom",children:"Custom Range"})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsxs(oe,{value:a,onValueChange:r,children:[e.jsx(te,{id:"department",children:e.jsx(ie,{placeholder:"All Departments"})}),e.jsxs(se,{children:[e.jsx(A,{value:"all",children:"All Departments"}),e.jsx(A,{value:"Engineering",children:"Engineering"}),e.jsx(A,{value:"Marketing",children:"Marketing"}),e.jsx(A,{value:"Product",children:"Product"}),e.jsx(A,{value:"HR",children:"HR"}),e.jsx(A,{value:"Sales",children:"Sales"})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs(oe,{value:n,onValueChange:i,children:[e.jsx(te,{id:"status",children:e.jsx(ie,{placeholder:"All Statuses"})}),e.jsxs(se,{children:[e.jsx(A,{value:"all",children:"All Statuses"}),e.jsx(A,{value:"completed",children:"Completed"}),e.jsx(A,{value:"processing",children:"Processing"}),e.jsx(A,{value:"queued",children:"Queued"}),e.jsx(A,{value:"failed",children:"Failed"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(S,{className:"h-10",onClick:()=>{s("all-time"),r("all"),i("all"),p("")},children:"Apply"})})]})})}),e.jsxs(F,{children:[e.jsx(H,{className:"px-6 py-5 border-b border-gray-100",children:e.jsx(Q,{className:"font-display font-semibold text-lg text-text",children:"All Analyses"})}),e.jsxs(z,{className:"p-0",children:[d.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No analyses found matching your filters"}),e.jsx(S,{onClick:()=>{s("all-time"),r("all"),i("all"),p("")},children:"Clear Filters"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Analysis Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidates"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:w.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-text",children:v.jobTitle}),e.jsx("div",{className:"text-xs text-gray-500",children:v.averageScore?`Match Score: ${v.averageScore}%`:""})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:v.department||"Not specified"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:v.candidateCount})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs(Te,{className:"h-8 w-8",children:[e.jsx(Ae,{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",alt:"User"}),e.jsx(Me,{children:e.jsx(gs,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm text-gray-900",children:"Alex Johnson"})})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:ce(new Date(v.createdAt),{addSuffix:!0})})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx(q,{variant:Ao(v.status),children:Mo(v.status)})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx(K,{href:`/results/${v.id}`,children:e.jsx(S,{variant:"link",className:"text-primary",children:"View"})}),e.jsx(S,{variant:"link",className:"text-gray-500",children:"Export"})]})]},v.id))})]})}),d.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-medium",children:"1"})," to ",e.jsx("span",{className:"font-medium",children:d.length})," of ",e.jsx("span",{className:"font-medium",children:l.length})," analyses"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),e.jsx(S,{variant:"outline",size:"sm",className:"bg-primary text-white",children:"1"}),e.jsx(S,{variant:"outline",size:"sm",disabled:!0,children:"Next"})]})]})})]})]})]})})}function Ao(t){switch(t){case"completed":return"success";case"processing":return"default";case"queued":return"secondary";case"failed":return"destructive";default:return"outline"}}function Mo(t){switch(t){case"completed":return"Completed";case"processing":return"Processing";case"queued":return"Queued";case"failed":return"Failed";default:return t}}function Do(){return e.jsxs(Nr,{children:[e.jsx(Z,{path:"/dashboard",component:ro}),e.jsx(Z,{path:"/resume-analyzer",component:fo}),e.jsx(Z,{path:"/analysis-queue",component:jo}),e.jsx(Z,{path:"/results/:id",component:dt}),e.jsx(Z,{path:"/results",component:dt}),e.jsx(Z,{path:"/history",component:To}),e.jsx(Fe,{path:"/",component:Jn}),e.jsx(Fe,{component:qr})]})}function Io(){return e.jsx(vr,{client:be,children:e.jsx(Or,{children:e.jsx(xo,{children:e.jsxs(_r,{children:[e.jsx(Pr,{}),e.jsx(Do,{})]})})})})}wr.createRoot(document.getElementById("root")).render(e.jsx(Io,{}));
//# sourceMappingURL=index-0vkkzX2m.js.map

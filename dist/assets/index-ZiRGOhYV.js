import{Q as ht,r as d,t as pt,c as ft,j as e,V as as,R as rs,a as pe,A as ns,C as is,X as _e,T as ls,D as os,P as gt,b as cs,d as jt,p as fe,e as E,s as ge,f as je,g as qe,h as ds,i as Z,k as yt,u as X,l as me,m as Re,n as vt,S as ms,o as xs,q as Nt,F as bt,v as wt,L as us,w as hs,x as ps,y as St,z as fs,B as Ct,E as Ve,G as z,H as Pe,U as oe,I as Se,M as gs,J as Ie,K as js,N as kt,O as At,W as ys,Y as Tt,Z as Be,_ as Ke,$ as Mt,a0 as Rt,a1 as vs,a2 as Pt,a3 as It,a4 as Dt,a5 as Y,a6 as Ft,a7 as Ns,a8 as zt,a9 as bs,aa as Et,ab as ws,ac as Ss,ad as Cs,ae as ks,af as As,ag as Lt,ah as Ts,ai as Ms,aj as $t,ak as Ot,al as Rs,am as Ps,an as Is,ao as ae,ap as _t,aq as Je,ar as qt,as as Ds,at as Fs,au as Vt,av as Bt,aw as Jt,ax as Ut,ay as Ht,az as Qt,aA as zs,aB as Kt,aC as Ue,aD as Es,aE as Ls,aF as $s,aG as Wt,aH as Os,aI as Yt,aJ as _s,aK as qs,aL as Gt,aM as Xt,aN as Vs,aO as Zt,aP as ea,aQ as sa,aR as ta,aS as aa,aT as ra,aU as Bs,aV as na,aW as Ce,aX as ia,aY as la,aZ as ke,a_ as oa,a$ as Ae,b0 as ca,b1 as We,b2 as Ye,b3 as Ge,b4 as Xe,b5 as Js,b6 as Us,b7 as da,b8 as ma,b9 as xa,ba as ua,bb as ha,bc as pa,bd as fa,be as ga,bf as ja,bg as ya,bh as va,bi as Na}from"./vendor-AgdCOL5P.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const x of o.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&n(x)}).observe(document,{childList:!0,subtree:!0});function a(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=a(l);fetch(l.href,o)}})();async function Hs(s){if(!s.ok){const t=await s.text()||s.statusText;throw new Error(`${s.status}: ${t}`)}}async function Ze(s,t,a){const n=await fetch(t,{method:s,headers:{},body:void 0,credentials:"include"});return await Hs(n),n}const ba=({on401:s})=>async({queryKey:t})=>{const a=await fetch(t[0],{credentials:"include"});return await Hs(a),await a.json()},re=new ht({defaultOptions:{queries:{queryFn:ba({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),wa=1,Sa=1e6;let Te=0;function Ca(){return Te=(Te+1)%Number.MAX_SAFE_INTEGER,Te.toString()}const Me=new Map,es=s=>{if(Me.has(s))return;const t=setTimeout(()=>{Me.delete(s),le({type:"REMOVE_TOAST",toastId:s})},Sa);Me.set(s,t)},ka=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,wa)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?es(a):s.toasts.forEach(n=>{es(n.id)}),{...s,toasts:s.toasts.map(n=>n.id===a||a===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==t.toastId)}}},xe=[];let ue={toasts:[]};function le(s){ue=ka(ue,s),xe.forEach(t=>{t(ue)})}function Aa({...s}){const t=Ca(),a=l=>le({type:"UPDATE_TOAST",toast:{...l,id:t}}),n=()=>le({type:"DISMISS_TOAST",toastId:t});return le({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:l=>{l||n()}}}),{id:t,dismiss:n,update:a}}function ee(){const[s,t]=d.useState(ue);return d.useEffect(()=>(xe.push(t),()=>{const a=xe.indexOf(t);a>-1&&xe.splice(a,1)}),[s]),{...s,toast:Aa,dismiss:a=>le({type:"DISMISS_TOAST",toastId:a})}}function p(...s){return pt(ft(s))}const Ta=gt,Qs=d.forwardRef(({className:s,...t},a)=>e.jsx(as,{ref:a,className:p("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));Qs.displayName=as.displayName;const Ma=pe("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ks=d.forwardRef(({className:s,variant:t,...a},n)=>e.jsx(rs,{ref:n,className:p(Ma({variant:t}),s),...a}));Ks.displayName=rs.displayName;const Ra=d.forwardRef(({className:s,...t},a)=>e.jsx(ns,{ref:a,className:p("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));Ra.displayName=ns.displayName;const Ws=d.forwardRef(({className:s,...t},a)=>e.jsx(is,{ref:a,className:p("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(_e,{className:"h-4 w-4"})}));Ws.displayName=is.displayName;const Ys=d.forwardRef(({className:s,...t},a)=>e.jsx(ls,{ref:a,className:p("text-sm font-semibold",s),...t}));Ys.displayName=ls.displayName;const Gs=d.forwardRef(({className:s,...t},a)=>e.jsx(os,{ref:a,className:p("text-sm opacity-90",s),...t}));Gs.displayName=os.displayName;function Pa(){const{toasts:s}=ee();return e.jsxs(Ta,{children:[s.map(function({id:t,title:a,description:n,action:l,...o}){return e.jsxs(Ks,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Ys,{children:a}),n&&e.jsx(Gs,{children:n})]}),l,e.jsx(Ws,{})]},t)}),e.jsx(Qs,{})]})}const Ia=jt,Da=d.forwardRef(({className:s,sideOffset:t=4,...a},n)=>e.jsx(cs,{ref:n,sideOffset:t,className:p("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...a}));Da.displayName=cs.displayName;const Fa=fe("users",{id:ge("id").primaryKey(),username:E("username").notNull().unique(),password:E("password").notNull(),fullName:E("full_name").notNull(),role:E("role").default("user").notNull(),email:E("email").notNull().unique()}),Xs=je(Fa).pick({username:!0,password:!0,fullName:!0,email:!0}),za=fe("analyses",{id:ge("id").primaryKey(),name:E("name").notNull(),jobTitle:E("job_title").notNull(),department:E("department"),jobDescription:E("job_description").notNull(),createdById:Z("created_by_id").notNull(),status:E("status").default("queued").notNull(),candidateCount:Z("candidate_count").default(0).notNull(),averageScore:Z("average_score"),filters:ds("filters"),createdAt:qe("created_at").defaultNow().notNull()});je(za).pick({name:!0,jobTitle:!0,department:!0,jobDescription:!0,filters:!0});const Ea=fe("candidates",{id:ge("id").primaryKey(),analysisId:Z("analysis_id").notNull(),name:E("name").notNull(),email:E("email").notNull(),phone:E("phone"),location:E("location"),experience:E("experience"),education:E("education"),skills:ds("skills"),matchScore:Z("match_score").notNull(),resumeText:E("resume_text"),createdAt:qe("created_at").defaultNow().notNull()});je(Ea).pick({analysisId:!0,name:!0,email:!0,phone:!0,location:!0,experience:!0,education:!0,skills:!0,matchScore:!0,resumeText:!0});const La=fe("notifications",{id:ge("id").primaryKey(),userId:Z("user_id").notNull(),title:E("title").notNull(),message:E("message").notNull(),type:E("type").default("info").notNull(),isRead:yt("is_read").default(!1).notNull(),createdAt:qe("created_at").defaultNow().notNull(),relatedId:Z("related_id"),relatedType:E("related_type")});je(La).pick({userId:!0,title:!0,message:!0,type:!0,relatedId:!0,relatedType:!0});const Zs=d.createContext(null);Xs.pick({username:!0,password:!0});const ce={id:1,username:"testuser",fullName:"Test User",role:"HR Manager",email:"test@example.com",createdAt:new Date().toISOString()};function $a({children:s}){const{toast:t}=ee(),{data:a,error:n,isLoading:l}=X({queryKey:["/api/user"],queryFn:()=>Promise.resolve(ce)}),o=me({mutationFn:async c=>ce,onSuccess:c=>{re.setQueryData(["/api/user"],c),t({title:"Login successful",description:`Welcome back, ${c.fullName||c.username}!`})},onError:c=>{t({title:"Login failed",description:c.message||"Invalid username or password",variant:"destructive"})}}),x=me({mutationFn:async c=>ce,onSuccess:c=>{re.setQueryData(["/api/user"],c),t({title:"Registration successful",description:`Welcome to TalentInsight, ${c.fullName||c.username}!`})},onError:c=>{t({title:"Registration failed",description:c.message||"Could not create account",variant:"destructive"})}}),v=me({mutationFn:async()=>null,onSuccess:()=>{t({title:"Logged out",description:"You have been successfully logged out."})},onError:c=>{t({title:"Logout failed",description:c.message,variant:"destructive"})}});return e.jsx(Zs.Provider,{value:{user:a||ce,isLoading:!1,error:null,loginMutation:o,logoutMutation:v,registerMutation:x},children:s})}function He(){const s=d.useContext(Zs);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s}function se({path:s,component:t}){return e.jsx(Re,{path:s,component:t})}const O=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:p("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));O.displayName="Card";const B=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:p("flex flex-col space-y-1.5 p-6",s),...t}));B.displayName="CardHeader";const q=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:p("text-2xl font-semibold leading-none tracking-tight",s),...t}));q.displayName="CardTitle";const et=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:p("text-sm text-muted-foreground",s),...t}));et.displayName="CardDescription";const L=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:p("p-6 pt-0",s),...t}));L.displayName="CardContent";const De=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:p("flex items-center p-6 pt-0",s),...t}));De.displayName="CardFooter";function Oa(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(O,{className:"w-full max-w-md mx-4",children:e.jsxs(L,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(vt,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const _a=pe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=d.forwardRef(({className:s,variant:t,size:a,asChild:n=!1,...l},o)=>{const x=n?ms:"button";return e.jsx(x,{className:p(_a({variant:t,size:a,className:s})),ref:o,...l})});g.displayName="Button";const qa=pe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),st=d.forwardRef(({className:s,...t},a)=>e.jsx(xs,{ref:a,className:p(qa(),s),...t}));st.displayName=xs.displayName;const Fe=bt,tt=d.createContext({}),P=({...s})=>e.jsx(tt.Provider,{value:{name:s.name},children:e.jsx(wt,{...s})}),ye=()=>{const s=d.useContext(tt),t=d.useContext(at),{getFieldState:a,formState:n}=Nt(),l=a(s.name,n);if(!s)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:s.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...l}},at=d.createContext({}),T=d.forwardRef(({className:s,...t},a)=>{const n=d.useId();return e.jsx(at.Provider,{value:{id:n},children:e.jsx("div",{ref:a,className:p("space-y-2",s),...t})})});T.displayName="FormItem";const M=d.forwardRef(({className:s,...t},a)=>{const{error:n,formItemId:l}=ye();return e.jsx(st,{ref:a,className:p(n&&"text-destructive",s),htmlFor:l,...t})});M.displayName="FormLabel";const D=d.forwardRef(({...s},t)=>{const{error:a,formItemId:n,formDescriptionId:l,formMessageId:o}=ye();return e.jsx(ms,{ref:t,id:n,"aria-describedby":a?`${l} ${o}`:`${l}`,"aria-invalid":!!a,...s})});D.displayName="FormControl";const Va=d.forwardRef(({className:s,...t},a)=>{const{formDescriptionId:n}=ye();return e.jsx("p",{ref:a,id:n,className:p("text-sm text-muted-foreground",s),...t})});Va.displayName="FormDescription";const I=d.forwardRef(({className:s,children:t,...a},n)=>{const{error:l,formMessageId:o}=ye(),x=l?String((l==null?void 0:l.message)??""):t;return x?e.jsx("p",{ref:n,id:o,className:p("text-sm font-medium text-destructive",s),...a,children:x}):null});I.displayName="FormMessage";const _=d.forwardRef(({className:s,type:t,...a},n)=>e.jsx("input",{type:t,className:p("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,...a}));_.displayName="Input";const Ba=St,rt=d.forwardRef(({className:s,...t},a)=>e.jsx(us,{ref:a,className:p("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));rt.displayName=us.displayName;const ze=d.forwardRef(({className:s,...t},a)=>e.jsx(hs,{ref:a,className:p("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));ze.displayName=hs.displayName;const Ee=d.forwardRef(({className:s,...t},a)=>e.jsx(ps,{ref:a,className:p("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));Ee.displayName=ps.displayName;const Le=d.forwardRef(({className:s,...t},a)=>e.jsx(fs,{ref:a,className:p("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(Ct,{className:p("flex items-center justify-center text-current"),children:e.jsx(Ve,{className:"h-4 w-4"})})}));Le.displayName=fs.displayName;const Ja=z.object({username:z.string().min(3,"Username must be at least 3 characters"),password:z.string().min(6,"Password must be at least 6 characters"),rememberMe:z.boolean().optional()}),Ua=Xs.extend({confirmPassword:z.string().min(6,"Password must be at least 6 characters"),acceptTerms:z.boolean().refine(s=>s===!0,{message:"You must accept the terms and conditions"})}).refine(s=>s.password===s.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Ha(){const[s,t]=d.useState("login"),{user:a,loginMutation:n,registerMutation:l}=He(),o=Pe({resolver:Ie(Ja),defaultValues:{username:"",password:"",rememberMe:!1}}),x=Pe({resolver:Ie(Ua),defaultValues:{username:"",password:"",confirmPassword:"",fullName:"",email:"",acceptTerms:!1}});function v(r){n.mutate(r)}function c(r){const{confirmPassword:u,acceptTerms:m,...j}=r;l.mutate(j)}return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-background",children:[e.jsx("div",{className:"bg-primary hidden md:flex md:w-1/2 flex-col justify-center items-center p-10 text-white",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("h1",{className:"text-4xl font-display font-bold mb-6",children:"TalentInsight"}),e.jsx("h2",{className:"text-2xl font-display font-semibold mb-4",children:"Modern HR recruitment analytics"}),e.jsx("p",{className:"mb-8 text-white/90",children:"Streamline your recruitment process with AI-powered resume screening, candidate evaluation, and insightful analytics."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:e.jsx(oe,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Smart Candidate Screening"}),e.jsx("p",{className:"text-sm text-white/80",children:"AI-powered analysis of up to 200 resumes at once"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"M18 17V9"}),e.jsx("path",{d:"M13 17V5"}),e.jsx("path",{d:"M8 17v-3"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Powerful Analytics"}),e.jsx("p",{className:"text-sm text-white/80",children:"Visualize candidate data with insightful charts and metrics"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Save Time"}),e.jsx("p",{className:"text-sm text-white/80",children:"Cut resume review time by up to 75% with automated processing"})]})]})]})]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:e.jsxs(O,{className:"w-full max-w-md",children:[e.jsxs(B,{className:"space-y-1 text-center",children:[e.jsx(q,{className:"text-2xl font-display text-primary md:hidden",children:"TalentInsight"}),e.jsx(q,{className:"text-xl",children:"Welcome"}),e.jsx(et,{children:"Sign in to your account or create a new one"})]}),e.jsxs(Ba,{value:s,onValueChange:t,className:"w-full",children:[e.jsxs(rt,{className:"grid w-full grid-cols-2",children:[e.jsx(ze,{value:"login",children:"Log In"}),e.jsx(ze,{value:"register",children:"Register"})]}),e.jsx(Ee,{value:"login",children:e.jsx(Fe,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(v),className:"space-y-4",children:[e.jsxs(L,{className:"space-y-4",children:[e.jsx(P,{control:o.control,name:"username",render:({field:r})=>e.jsxs(T,{children:[e.jsx(M,{children:"Username"}),e.jsx(D,{children:e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground"}),e.jsx(_,{className:"pl-10",placeholder:"Enter your username",...r})]})}),e.jsx(I,{})]})}),e.jsx(P,{control:o.control,name:"password",render:({field:r})=>e.jsxs(T,{children:[e.jsx(M,{children:"Password"}),e.jsx(D,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground"}),e.jsx(_,{className:"pl-10",type:"password",placeholder:"Enter your password",...r})]})}),e.jsx(I,{})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(P,{control:o.control,name:"rememberMe",render:({field:r})=>e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(D,{children:e.jsx(Le,{checked:r.value,onCheckedChange:r.onChange})}),e.jsx(M,{className:"text-sm font-normal",children:"Remember me"})]})}),e.jsx("a",{href:"#",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]})]}),e.jsx(De,{children:e.jsx(g,{type:"submit",className:"w-full bg-primary",disabled:n.isPending,children:n.isPending?"Signing in...":"Sign in"})})]})})}),e.jsx(Ee,{value:"register",children:e.jsx(Fe,{...x,children:e.jsxs("form",{onSubmit:x.handleSubmit(c),className:"space-y-4",children:[e.jsxs(L,{className:"space-y-4",children:[e.jsx(P,{control:x.control,name:"fullName",render:({field:r})=>e.jsxs(T,{children:[e.jsx(M,{children:"Full Name"}),e.jsx(D,{children:e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground"}),e.jsx(_,{className:"pl-10",placeholder:"Enter your full name",...r})]})}),e.jsx(I,{})]})}),e.jsx(P,{control:x.control,name:"email",render:({field:r})=>e.jsxs(T,{children:[e.jsx(M,{children:"Email"}),e.jsx(D,{children:e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground"}),e.jsx(_,{className:"pl-10",type:"email",placeholder:"Enter your email",...r})]})}),e.jsx(I,{})]})}),e.jsx(P,{control:x.control,name:"username",render:({field:r})=>e.jsxs(T,{children:[e.jsx(M,{children:"Username"}),e.jsx(D,{children:e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground"}),e.jsx(_,{className:"pl-10",placeholder:"Choose a username",...r})]})}),e.jsx(I,{})]})}),e.jsx(P,{control:x.control,name:"password",render:({field:r})=>e.jsxs(T,{children:[e.jsx(M,{children:"Password"}),e.jsx(D,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground"}),e.jsx(_,{className:"pl-10",type:"password",placeholder:"Create a password",...r})]})}),e.jsx(I,{})]})}),e.jsx(P,{control:x.control,name:"confirmPassword",render:({field:r})=>e.jsxs(T,{children:[e.jsx(M,{children:"Confirm Password"}),e.jsx(D,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground"}),e.jsx(_,{className:"pl-10",type:"password",placeholder:"Confirm your password",...r})]})}),e.jsx(I,{})]})}),e.jsx(P,{control:x.control,name:"acceptTerms",render:({field:r})=>e.jsxs(T,{className:"flex items-start space-x-2 mt-4",children:[e.jsx(D,{children:e.jsx(Le,{checked:r.value,onCheckedChange:r.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsxs(M,{className:"text-sm font-normal",children:["I accept the ",e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"terms and conditions"})]}),e.jsx(I,{})]})]})})]}),e.jsx(De,{children:e.jsx(g,{type:"submit",className:"w-full bg-primary",disabled:l.isPending,children:l.isPending?"Creating account...":"Create account"})})]})})})]})]})})]})}const $e=d.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(js,{ref:n,className:p("relative overflow-hidden",s),...a,children:[e.jsx(kt,{className:"h-full w-full rounded-[inherit]",children:t}),e.jsx(nt,{}),e.jsx(At,{})]}));$e.displayName=js.displayName;const nt=d.forwardRef(({className:s,orientation:t="vertical",...a},n)=>e.jsx(ys,{ref:n,orientation:t,className:p("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...a,children:e.jsx(Tt,{className:"relative flex-1 rounded-full bg-border"})}));nt.displayName=ys.displayName;function Qa(){const[s]=Be(),{logoutMutation:t}=He(),[a,n]=d.useState(!1),l=()=>{n(!a)},o=()=>{n(!1)},x=[{title:"Dashboard",icon:e.jsx(Mt,{className:"h-5 w-5"}),path:"/"},{title:"Resume Analyzer",icon:e.jsx(Rt,{className:"h-5 w-5"}),path:"/resume-analyzer"},{title:"Analysis Queue",icon:e.jsx(vs,{className:"h-5 w-5"}),path:"/analysis-queue"},{title:"Results",icon:e.jsx(Pt,{className:"h-5 w-5"}),path:"/results"},{title:"History",icon:e.jsx(It,{className:"h-5 w-5"}),path:"/history"},{title:"Settings",icon:e.jsx(Dt,{className:"h-5 w-5"}),path:"/settings"}],v=()=>{t.mutate()},c=j=>j==="/"?s===j:s.startsWith(j),r=()=>x.map(j=>{const S=c(j.path);return e.jsxs(Y,{href:j.path,onClick:o,className:p("flex items-center py-3 px-4 rounded-md transition-colors",S?"bg-primary text-white":"text-black hover:bg-primary hover:text-white"),children:[j.icon,e.jsx("span",{className:"ml-3",children:j.title})]},j.path)}),u=e.jsxs(g,{variant:"ghost",size:"icon",className:"md:hidden ml-2",onClick:l,children:[e.jsx(Ft,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]}),m=e.jsxs("div",{className:`fixed inset-0 z-40 ${a?"block":"hidden"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-50",onClick:o}),e.jsxs("div",{className:"absolute inset-y-0 left-0 w-64 bg-white shadow-card",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-display font-bold text-primary",children:"TalentInsight"}),e.jsx(g,{variant:"ghost",size:"icon",onClick:o,children:e.jsx(_e,{className:"h-5 w-5"})})]}),e.jsx($e,{className:"flex-1 h-[calc(100vh-136px)]",children:e.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:r()})}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs(g,{variant:"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100",onClick:v,children:[e.jsx(Ke,{className:"mr-3 h-5 w-5"}),e.jsx("span",{children:"Sign Out"})]})})]})]});return e.jsxs(e.Fragment,{children:[u,m,e.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white shadow-card",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h1",{className:"text-2xl font-display font-bold text-primary",children:"TalentInsight"})}),e.jsx($e,{className:"flex-1 h-[calc(100vh-136px)]",children:e.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:r()})}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs(g,{variant:"ghost",className:"w-full justify-start text-gray-700 hover:bg-gray-100",onClick:v,disabled:t.isPending,children:[e.jsx(Ke,{className:"mr-3 h-5 w-5"}),e.jsx("span",{children:t.isPending?"Signing out...":"Sign Out"})]})})]})]})}const Ka=$t,Wa=Ot,Ya=d.forwardRef(({className:s,inset:t,children:a,...n},l)=>e.jsxs(Ns,{ref:l,className:p("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",s),...n,children:[a,e.jsx(zt,{className:"ml-auto"})]}));Ya.displayName=Ns.displayName;const Ga=d.forwardRef(({className:s,...t},a)=>e.jsx(bs,{ref:a,className:p("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...t}));Ga.displayName=bs.displayName;const it=d.forwardRef(({className:s,sideOffset:t=4,...a},n)=>e.jsx(Et,{children:e.jsx(ws,{ref:n,sideOffset:t,className:p("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...a})}));it.displayName=ws.displayName;const he=d.forwardRef(({className:s,inset:t,...a},n)=>e.jsx(Ss,{ref:n,className:p("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",s),...a}));he.displayName=Ss.displayName;const Xa=d.forwardRef(({className:s,children:t,checked:a,...n},l)=>e.jsxs(Cs,{ref:l,className:p("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:a,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ks,{children:e.jsx(Ve,{className:"h-4 w-4"})})}),t]}));Xa.displayName=Cs.displayName;const Za=d.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(As,{ref:n,className:p("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ks,{children:e.jsx(Lt,{className:"h-2 w-2 fill-current"})})}),t]}));Za.displayName=As.displayName;const lt=d.forwardRef(({className:s,inset:t,...a},n)=>e.jsx(Ts,{ref:n,className:p("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",s),...a}));lt.displayName=Ts.displayName;const Oe=d.forwardRef(({className:s,...t},a)=>e.jsx(Ms,{ref:a,className:p("-mx-1 my-1 h-px bg-muted",s),...t}));Oe.displayName=Ms.displayName;const ve=d.forwardRef(({className:s,...t},a)=>e.jsx(Rs,{ref:a,className:p("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));ve.displayName=Rs.displayName;const Ne=d.forwardRef(({className:s,...t},a)=>e.jsx(Ps,{ref:a,className:p("aspect-square h-full w-full",s),...t}));Ne.displayName=Ps.displayName;const be=d.forwardRef(({className:s,...t},a)=>e.jsx(Is,{ref:a,className:p("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));be.displayName=Is.displayName;function er({notification:s}){const t=l=>{switch(l){case"success":return{bgColor:"bg-green-100",textColor:"text-green-600"};case"warning":return{bgColor:"bg-yellow-100",textColor:"text-yellow-600"};case"error":return{bgColor:"bg-red-100",textColor:"text-red-600"};case"info":default:return{bgColor:"bg-blue-100",textColor:"text-blue-600"}}},a=l=>{switch(l){case"success":return"✓";case"warning":return"⚠";case"error":return"✖";case"info":default:return"ℹ"}},n=t(s.type);return e.jsx("div",{className:`p-4 hover:bg-gray-50 ${s.isRead?"opacity-75":""}`,children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ${n.bgColor}`,children:e.jsx("span",{className:`text-sm ${n.textColor}`,children:a(s.type)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-text",children:s.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.message}),s.relatedId&&s.relatedType==="analysis"&&e.jsx("div",{className:"mt-1",children:e.jsx(Y,{href:`/results/${s.relatedId}`,children:e.jsx(g,{variant:"link",className:"text-xs text-primary p-0 h-auto",children:"View Results"})})}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ae(new Date(s.createdAt),{addSuffix:!0})})]})]})})}function sr(){const{user:s}=He(),[t,a]=d.useState(!1),{data:n=[],refetch:l}=X({queryKey:["/api/notifications"],staleTime:6e4}),o=n.filter(c=>!c.isRead).length,x=async()=>{if(a(!t),o>0)try{await Ze("POST","/api/notifications/read-all"),l()}catch(c){console.error("Failed to mark notifications as read:",c)}},v=c=>c?c.split(" ").map(r=>r[0]).join("").toUpperCase():"U";return e.jsx("header",{className:"bg-white shadow-card",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center mr-4 px-3 py-1.5 bg-green-50 text-green-700 text-sm font-medium rounded-full shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-center mr-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}),e.jsxs("span",{className:"text-sm font-semibold",children:["Credits: ",e.jsx("span",{className:"font-bold",children:"35"})]})]}),e.jsxs("div",{className:"relative mr-4",children:[e.jsxs(g,{variant:"ghost",size:"icon",className:"relative text-gray-500 hover:text-gray-700 focus:outline-none",onClick:x,children:[e.jsx(_t,{className:"h-7 w-7"}),o>0&&e.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-accent rounded-full",children:o>9?"9+":o})]}),t&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg z-10",children:[e.jsxs("div",{className:"p-3 border-b border-gray-100 flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Notifications"}),e.jsx(g,{variant:"ghost",size:"sm",className:"text-xs text-primary h-auto py-1",onClick:()=>Ze("POST","/api/notifications/read-all").then(()=>l()),children:"Mark all as read"})]}),e.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto",children:n.length===0?e.jsx("div",{className:"py-6 px-4 text-center text-gray-500",children:e.jsx("p",{children:"No notifications"})}):n.map(c=>e.jsx(er,{notification:c},c.id))})]})]}),e.jsxs(Ka,{children:[e.jsx(Wa,{asChild:!0,children:e.jsx(g,{variant:"ghost",className:"relative rounded-full h-8 w-8 p-0",children:e.jsxs(ve,{children:[e.jsx(Ne,{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",alt:"User"}),e.jsx(be,{children:v(s==null?void 0:s.fullName)})]})})}),e.jsxs(it,{align:"end",children:[e.jsx(lt,{children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:(s==null?void 0:s.fullName)||(s==null?void 0:s.username)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(s==null?void 0:s.role)||"HR Manager"})]})}),e.jsx(Oe,{}),e.jsx(he,{children:"Profile"}),e.jsx(he,{children:"Settings"}),e.jsx(Oe,{}),e.jsx(he,{children:"Sign out"})]})]})]})]})})}function ne({children:s,title:t}){return e.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[e.jsx(Qa,{}),e.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsx(sr,{}),e.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar bg-background p-6",children:[t&&e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h1",{className:"text-2xl font-display font-bold text-text",children:t})}),s]})]})]})}function de({title:s,value:t,change:a,icon:n,color:l="primary"}){const o={"file-list":e.jsx(Ds,{className:`text-xl text-${l}`}),"user-search":e.jsx(qt,{className:`text-xl text-${l}`}),time:e.jsx(vs,{className:`text-xl text-${l}`}),award:e.jsx(Je,{className:`text-xl text-${l}`})},x={up:"text-secondary",down:"text-accent",undefined:"text-accent"};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-card",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:p("p-3 rounded-md bg-opacity-10",`bg-${l}`),children:o[n]}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:s}),e.jsx("p",{className:"text-2xl font-semibold text-text",children:t})]})]}),a&&e.jsxs("div",{className:"mt-4",children:[a.direction&&e.jsxs("span",{className:p("text-sm font-medium",x[a.direction]),children:[a.direction==="up"?"↑":"↓"," ",a.value]}),!a.direction&&e.jsx("span",{className:"text-accent text-sm font-medium",children:a.value}),a.text&&e.jsxs("span",{className:"text-sm text-gray-500",children:[" ",a.text]})]})]})}const tr=pe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function V({className:s,variant:t,...a}){return e.jsx("div",{className:p(tr({variant:t}),s),...a})}function ar({analyses:s}){return!s||s.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{className:"text-gray-500 mb-3",children:"No analyses found"}),e.jsx(Y,{href:"/resume-analyzer",children:e.jsx(g,{children:"Start your first analysis"})})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job Title"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidates"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-text",children:t.jobTitle}),t.department&&e.jsx("div",{className:"text-xs text-gray-500",children:t.department})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.candidateCount})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:t.createdAt?ae(new Date(t.createdAt),{addSuffix:!0}):"Unknown date"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx(V,{variant:rr(t.status),children:nr(t.status)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsx(Y,{href:`/results/${t.id}`,children:e.jsx(g,{variant:"ghost",size:"sm",children:"View"})})})]},t.id))})]})})}function rr(s){switch(s){case"completed":return"success";case"processing":return"default";case"queued":return"secondary";case"failed":return"destructive";default:return"outline"}}function nr(s){switch(s){case"completed":return"Completed";case"processing":return"Processing";case"queued":return"Queued";case"failed":return"Failed";default:return s}}const we=d.forwardRef(({className:s,value:t,...a},n)=>e.jsx(Fs,{ref:n,className:p("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...a,children:e.jsx(Vt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));we.displayName=Fs.displayName;function ir({analysis:s}){const a=s.status==="queued"?0:s.status==="completed"?100:Math.floor(Math.random()*75)+15,n=()=>s.status==="queued"?"Starting soon":s.status==="completed"?"Completed":`~${Math.floor((100-a)/100*60)} min remaining`,l=()=>s.createdAt?ae(new Date(s.createdAt),{addSuffix:!1})+" ago":"Recently";return e.jsxs("div",{className:"border border-gray-200 rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(Y,{href:`/results/${s.id}`,children:e.jsx("h3",{className:"font-medium text-text hover:text-primary cursor-pointer",children:s.jobTitle})}),e.jsx(V,{variant:s.status==="queued"?"secondary":"default",children:s.status==="queued"?"Queued":"Processing"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.candidateCount," candidate",s.candidateCount!==1?"s":""]}),e.jsx("div",{className:"mt-3 w-full",children:e.jsx(we,{value:a,className:"h-2"})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsxs("span",{children:[s.status==="queued"?"Queued: ":"Started: ",l()]}),e.jsx("span",{children:n()})]})]})}function lr(){const{data:s=[]}=X({queryKey:["/api/analyses"]}),t=s.filter(c=>c.status==="completed"),a=s.filter(c=>c.status==="processing"||c.status==="queued"),n=s.length,l=s.reduce((c,r)=>c+r.candidateCount,0),o=s.filter(c=>c.status==="queued").length,x=t.filter(c=>c.averageScore!==null).map(c=>c.averageScore),v=x.length>0?(x.reduce((c,r)=>c+r,0)/x.length).toFixed(1):"-";return e.jsxs(ne,{title:"Dashboard",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(de,{title:"Total Analyses",value:n,change:{value:"14%",direction:"up",text:"from last month"},icon:"file-list",color:"primary"}),e.jsx(de,{title:"Candidates Processed",value:l,change:{value:"7%",direction:"up",text:"from last month"},icon:"user-search",color:"secondary"}),e.jsx(de,{title:"In Queue",value:o,change:{value:o>0?`${o} new`:"0 new",text:"in the last 24h"},icon:"time",color:"accent"}),e.jsx(de,{title:"Avg Match Score",value:`${v}%`,change:{value:"2.3%",direction:"up",text:"from last week"},icon:"award",color:"primary"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(O,{children:[e.jsx(B,{className:"px-6 py-5 border-b border-gray-100",children:e.jsx(q,{className:"font-display font-semibold text-lg text-text",children:"Recent Analysis Results"})}),e.jsx(L,{className:"p-0",children:e.jsx(ar,{analyses:t.slice(0,4)})})]})}),e.jsx("div",{children:e.jsxs(O,{children:[e.jsx(B,{className:"px-6 py-5 border-b border-gray-100",children:e.jsx(q,{className:"font-display font-semibold text-lg text-text",children:"In Progress"})}),e.jsx(L,{className:"p-6 space-y-5",children:a.length>0?a.slice(0,3).map(c=>e.jsx(ir,{analysis:c},c.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No analyses in progress"}),e.jsx(Y,{href:"/resume-analyzer",children:e.jsxs(g,{children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Start New Analysis"]})})]})})]})})]})]})}function or({files:s,setFiles:t,onUploadProgress:a}){const[n,l]=d.useState(!1),[o,x]=d.useState(0),v=d.useCallback(f=>{const y=f.filter(R=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/zip","application/x-zip-compressed"].includes(R.type));if(y.length>10){const R=y.length;let b=0;const C=i=>{const k=Math.min(i+5,R),w=y.slice(i,k);b+=w.length;const F=Math.floor(b/R*100);x(F),a&&a(F),t(A=>[...A,...w]),k<R?setTimeout(()=>C(k),300):x(0)};C(0)}else t(R=>[...R,...y])},[t,a]),c=f=>{t(y=>y.filter((R,b)=>b!==f))},{getRootProps:r,getInputProps:u,isDragActive:m,open:j}=Jt({onDrop:v,accept:{"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/zip":[".zip"],"application/x-zip-compressed":[".zip"]},maxSize:10485760*2,noClick:!1,noKeyboard:!0,onDragEnter:()=>l(!0),onDragLeave:()=>l(!1)}),S=f=>f==="application/zip"||f==="application/x-zip-compressed"?e.jsx(Ht,{className:"h-5 w-5 text-gray-500 mr-2 flex-shrink-0"}):e.jsx(Ds,{className:"h-5 w-5 text-gray-500 mr-2 flex-shrink-0"});return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{...r(),className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors
                   ${n||m?"border-primary bg-primary/5":"border-gray-300 bg-white"}`,children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(Ut,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600 justify-center",children:[e.jsxs("label",{className:"relative cursor-pointer rounded-md font-medium text-primary hover:text-primary-dark focus-within:outline-none",children:[e.jsx("span",{className:"mr-1",children:"Upload resumes"}),e.jsx("input",{...u()})]}),e.jsx("p",{children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, or ZIP up to 20MB each (max 200 files)"})]})}),s.length>0&&e.jsx("div",{className:"mt-4 space-y-2 max-h-60 overflow-y-auto",children:s.map((f,y)=>e.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center overflow-hidden",children:[S(f.type),e.jsx("span",{className:"truncate",children:f.name}),e.jsxs("span",{className:"ml-2 text-gray-400 text-xs",children:["(",(f.size/1024).toFixed(1)," KB)"]})]}),e.jsx(g,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-red-500",onClick:()=>c(y),children:e.jsx(_e,{className:"h-4 w-4"})})]},y))}),o>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Processing large batch upload"}),e.jsxs("span",{children:[o,"%"]})]}),e.jsx(we,{value:o,className:"h-2"})]}),s.length>0&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[s.length," file",s.length!==1?"s":""," selected"]}),e.jsx(g,{variant:"link",onClick:()=>t([]),className:"text-sm ml-2 p-0 h-auto",children:"Clear all"})]})]})}const ot=d.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:p("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...t}));ot.displayName="Textarea";const cr={"frontend-developer":"We're looking for a talented Frontend Developer who is passionate about building intuitive user interfaces. The ideal candidate has 3+ years of experience with modern JavaScript frameworks (React preferred), strong HTML/CSS skills, and experience with responsive design. Responsibilities include implementing UI components, collaborating with designers, and ensuring cross-browser compatibility.","backend-developer":"Our team is seeking a Backend Developer with expertise in building scalable services. You should have 4+ years of experience with server-side languages (Node.js, Python, or Java), database design, and API development. Experience with cloud platforms (AWS/Azure/GCP) and containerization is a plus. You'll be responsible for developing APIs, optimizing database performance, and ensuring system reliability.","data-scientist":"We're looking for a Data Scientist to extract valuable insights from our data. The ideal candidate has 3+ years of experience with statistical analysis, machine learning algorithms, and data visualization. Proficiency in Python and SQL is required. You'll be responsible for developing predictive models, analyzing trends, and communicating findings to stakeholders.","product-manager":"We're seeking a Product Manager to lead product development from conception to launch. The ideal candidate has 5+ years of experience in product management, a track record of shipping successful products, and excellent communication skills. You'll be responsible for defining product strategy, gathering requirements, and working with engineering and design teams to deliver exceptional user experiences.","ux-designer":"Our team is looking for a UX Designer who can create intuitive and engaging user experiences. The ideal candidate has 3+ years of experience in user-centered design, proficiency with design tools (Figma, Sketch), and experience conducting user research. You'll be responsible for creating wireframes, prototypes, and high-fidelity designs while collaborating with product and engineering teams."};function dr({value:s,onChange:t,error:a}){const[n,l]=d.useState(!1),{toast:o}=ee(),x=v=>{l(!0),setTimeout(()=>{t(cr[v]),l(!1),o({title:"Job description generated",description:"You can now edit the generated description or continue to the next step."})},1e3)};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(M,{children:"Job Description"}),e.jsxs("div",{className:"relative",children:[e.jsxs(g,{type:"button",variant:"ghost",size:"sm",className:"text-primary text-sm font-medium flex items-center",onClick:()=>document.getElementById("template-dropdown").classList.toggle("hidden"),children:[e.jsx(Qt,{className:"h-4 w-4 mr-1"}),"Generate with AI"]}),e.jsx("div",{id:"template-dropdown",className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10 hidden",children:e.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>x("frontend-developer"),disabled:n,children:"Frontend Developer"}),e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>x("backend-developer"),disabled:n,children:"Backend Developer"}),e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>x("data-scientist"),disabled:n,children:"Data Scientist"}),e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>x("product-manager"),disabled:n,children:"Product Manager"}),e.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",onClick:()=>x("ux-designer"),disabled:n,children:"UX Designer"})]})})]})]}),e.jsx(ot,{value:s,onChange:v=>t(v.target.value),rows:5,placeholder:"Enter detailed job description or generate one with AI...",className:a?"border-destructive":""}),n&&e.jsx("div",{className:"text-sm text-muted-foreground animate-pulse",children:"Generating job description..."})]})}const K=Zt,W=ea,H=d.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(zs,{ref:n,className:p("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(Kt,{asChild:!0,children:e.jsx(Ue,{className:"h-4 w-4 opacity-50"})})]}));H.displayName=zs.displayName;const ct=d.forwardRef(({className:s,...t},a)=>e.jsx(Es,{ref:a,className:p("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Ls,{className:"h-4 w-4"})}));ct.displayName=Es.displayName;const dt=d.forwardRef(({className:s,...t},a)=>e.jsx($s,{ref:a,className:p("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Ue,{className:"h-4 w-4"})}));dt.displayName=$s.displayName;const Q=d.forwardRef(({className:s,children:t,position:a="popper",...n},l)=>e.jsx(Wt,{children:e.jsxs(Os,{ref:l,className:p("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...n,children:[e.jsx(ct,{}),e.jsx(Yt,{className:p("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(dt,{})]})}));Q.displayName=Os.displayName;const mr=d.forwardRef(({className:s,...t},a)=>e.jsx(_s,{ref:a,className:p("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));mr.displayName=_s.displayName;const h=d.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(qs,{ref:n,className:p("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Gt,{children:e.jsx(Ve,{className:"h-4 w-4"})})}),e.jsx(Xt,{children:t})]}));h.displayName=qs.displayName;const xr=d.forwardRef(({className:s,...t},a)=>e.jsx(Vs,{ref:a,className:p("-mx-1 my-1 h-px bg-muted",s),...t}));xr.displayName=Vs.displayName;const ur={job_description:"We're looking for a talented Frontend Developer who is passionate about building intuitive user inte",resumes_received:2,files:["__MACOSX","Arjun_K_cv11978805_file.pdf"],candidates:[{name:"Arjun_K_cv11978805_file",evaluation:{clarity_and_structure:{score:9,analysis:"Clarity and structure evaluated with a score of 9."},relevant_experience:{score:6,analysis:"Relevant experience evaluated with a score of 6."},achievements:{score:9,analysis:"Achievements evaluated with a score of 9."},skills_match:{score:9,analysis:"Skills match evaluated with a score of 9."},professionalism:{score:9,analysis:"Professionalism evaluated with a score of 9."},overall:{score:10,analysis:"Overall, a good-quality resume with relevant strengths.",ranking:2}}}]},mt=d.createContext(void 0),hr=({children:s})=>{const[t,a]=d.useState("");return e.jsx(mt.Provider,{value:{analysisResults:t,setAnalysisResults:a},children:s})},xt=()=>{const s=d.useContext(mt);if(!s)throw new Error("useMyContext must be used within a MyContextProvider");return s},pr=z.object({name:z.string().min(3,"Analysis name must be at least 3 characters"),jobTitle:z.string().min(3,"Job title must be at least 3 characters"),department:z.string().optional(),jobDescription:z.string().min(20,"Job description must be at least 20 characters"),filters:z.object({experience:z.string().optional(),location:z.string().optional(),skills:z.string().optional(),education:z.string().optional(),industry:z.string().optional(),languages:z.string().optional(),prioritySkills:z.string().optional(),priorityExperience:z.string().optional(),priorityEducation:z.string().optional()}).optional()});function fr(){const[s,t]=d.useState(!1),[a,n]=d.useState([]),[l,o]=Be(),[x,v]=d.useState(0),[c,r]=d.useState(!1),[u,m]=d.useState(null),{toast:j}=ee(),{analysisResults:S,setAnalysisResults:f}=xt();d.useEffect(()=>{const N=new URLSearchParams(l.split("?")[1]).get("reanalysis");if(N){const w=JSON.parse(sessionStorage.getItem("analyses")||"[]").find(F=>F.id===parseInt(N));w&&(r(!0),m(w),y.reset({name:`${w.name} (Reanalysis)`,jobTitle:w.jobTitle,department:w.department,jobDescription:w.jobDescription,filters:w.filters||{experience:"",location:"",skills:"",education:"",industry:"",languages:"",prioritySkills:"regular",priorityExperience:"regular",priorityEducation:"regular"}}))}},[l]);const y=Pe({resolver:Ie(pr),defaultValues:{name:"",jobTitle:"",department:"",jobDescription:"",filters:{experience:"",location:"",skills:"",education:"",industry:"",languages:"",prioritySkills:"regular",priorityExperience:"regular",priorityEducation:"regular"}}}),R=me({mutationFn:async i=>{await new Promise($=>setTimeout($,1e3));const N=Math.floor(Math.random()*1e4)+1,k={id:N,...i,createdById:1,status:"processing",candidateCount:a.length,averageScore:0,createdAt:new Date().toISOString()},w=JSON.parse(sessionStorage.getItem("analyses")||"[]");w.push(k),sessionStorage.setItem("analyses",JSON.stringify(w));const F={id:Math.floor(Math.random()*1e4)+1,userId:1,title:"Analysis Started",message:`Your analysis "${i.name}" is now processing.`,type:"info",isRead:!1,createdAt:new Date().toISOString(),relatedId:N,relatedType:"analysis"},A=JSON.parse(sessionStorage.getItem("notifications")||"[]");return A.push(F),sessionStorage.setItem("notifications",JSON.stringify(A)),k},onSuccess:i=>{j({title:"Analysis created",description:"Your resume analysis has been started"}),b(i.id),setTimeout(()=>{o("/results")},1e3)},onError:i=>{j({title:"Error",description:i.message||"There was an error creating your analysis",variant:"destructive"})}}),b=async i=>{try{if(a.length>0){const N=(A,$)=>A<$*.1?Math.floor(Math.random()*8)+90:A<$*.3?Math.floor(Math.random()*9)+80:A<$*.6?Math.floor(Math.random()*9)+70:A<$*.9?Math.floor(Math.random()*9)+60:Math.floor(Math.random()*9)+50,w=[...a].sort(()=>Math.random()-.5).map((A,$)=>{const J=N($,a.length);let U;return J>=90?U="exceptional":J>=80?U="strong":J>=70?U="qualified":J>=60?U="potential":U="notRecommended",{id:Math.floor(Math.random()*1e4)+$+1,analysisId:i,name:A.name.split(".")[0].replace(/_/g," "),email:`${A.name.split(".")[0].toLowerCase().replace(/_/g,".")}@example.com`,phone:`+1 (555) ${String(Math.floor(Math.random()*900)+100)}-${String(Math.floor(Math.random()*9e3)+1e3)}`,location:["San Francisco, CA","New York, NY","Seattle, WA","Austin, TX"][Math.floor(Math.random()*4)],experience:`${Math.floor(Math.random()*8)+1}.${Math.floor(Math.random()*9)} years`,education:["Bachelor","Master","PhD"][Math.floor(Math.random()*3)],skills:["JavaScript","React","Node.js","Python","SQL","Cloud"].slice(0,Math.floor(Math.random()*4)+2),matchScore:J,tier:U,resumeText:"Resume content would be here in a real application",createdAt:new Date().toISOString()}}),F=JSON.parse(sessionStorage.getItem("candidates")||"[]");sessionStorage.setItem("candidates",JSON.stringify([...F,...w])),setTimeout(()=>{const $=JSON.parse(sessionStorage.getItem("analyses")||"[]").map(G=>{if(G.id===i){const ie=Math.round(w.reduce((Qe,ut)=>Qe+ut.matchScore,0)/w.length);return{...G,status:"completed",averageScore:ie}}return G});sessionStorage.setItem("analyses",JSON.stringify($));const J=JSON.parse(sessionStorage.getItem("notifications")||"[]"),U={id:Math.floor(Math.random()*1e4)+100,userId:1,title:"Analysis Complete",message:`Your analysis with ${w.length} candidate(s) is now ready to view.`,type:"success",isRead:!1,createdAt:new Date().toISOString(),relatedId:i,relatedType:"analysis"};J.push(U),sessionStorage.setItem("notifications",JSON.stringify(J)),re.invalidateQueries()},2e3)}}catch(N){console.error("Error simulating analysis progress:",N)}},C=async i=>{if(a.length===0){j({title:"Missing resumes",description:"Please upload at least one resume to analyze",variant:"destructive"});return}try{console.log("Data",i,a);const N=new FormData;N.append("job_description",i==null?void 0:i.jobDescription),N.append("resumes_zip_file",a==null?void 0:a[0]);const w=await fetch("http://127.0.0.1:8000/api/",{method:"POST",body:N}),F=ur,A=await w.json();console.log("Res",A),f(A),A&&o("/results")}catch(N){console.log(N)}};return e.jsx(ne,{title:"Resume Analyzer",children:e.jsxs(O,{children:[e.jsx(B,{className:"px-6 py-5 border-b border-gray-100",children:e.jsx(q,{className:"font-display font-semibold text-lg text-text",children:"New Analysis"})}),e.jsx(L,{className:"p-6",children:e.jsx(Fe,{...y,children:e.jsxs("form",{onSubmit:y.handleSubmit(C),className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-display font-medium text-md text-text",children:"1. Analysis Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(P,{control:y.control,name:"name",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Analysis Name"}),e.jsx(D,{children:e.jsx(_,{placeholder:"e.g. Senior Developer Hiring Q2 2023",...i})}),e.jsx(I,{})]})}),e.jsx(P,{control:y.control,name:"jobTitle",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Job Title"}),e.jsx(D,{children:e.jsx(_,{placeholder:"e.g. Senior Frontend Developer",...i})}),e.jsx(I,{})]})})]}),e.jsx(P,{control:y.control,name:"department",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Department (Optional)"}),e.jsx(D,{children:e.jsx(_,{placeholder:"e.g. Engineering, Marketing, HR",...i})}),e.jsx(I,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-display font-medium text-md text-text",children:"2. Job Description"}),e.jsx(P,{control:y.control,name:"jobDescription",render:({field:i})=>e.jsxs(T,{children:[e.jsx(dr,{value:i.value,onChange:i.onChange,error:y.formState.errors.jobDescription}),e.jsx(I,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-display font-medium text-md text-text",children:["3. Upload Resumes",c&&u&&e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(Original analysis had ",u.candidateCount," resumes)"]})]}),e.jsx(or,{files:a,setFiles:n,onUploadProgress:v}),a.length>25&&e.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-md p-3 text-sm text-blue-700 mt-2",children:e.jsxs("div",{className:"flex items-start",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 mt-0.5 text-blue-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Large batch processing"}),e.jsxs("p",{children:["You've uploaded ",a.length," resumes. Large batches will be processed in smaller groups with progress tracking."]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-display font-medium text-md text-text",children:"4. Filter Criteria (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(P,{control:y.control,name:"filters.experience",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Experience Level"}),e.jsxs(K,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(D,{children:e.jsx(H,{children:e.jsx(W,{placeholder:"Any Experience"})})}),e.jsxs(Q,{children:[e.jsx(h,{value:"any",children:"Any Experience"}),e.jsx(h,{value:"0-1",children:"0-1 years"}),e.jsx(h,{value:"1-3",children:"1-3 years"}),e.jsx(h,{value:"3-5",children:"3-5 years"}),e.jsx(h,{value:"5-7",children:"5-7 years"}),e.jsx(h,{value:"7+",children:"7+ years"})]})]}),e.jsx(I,{})]})}),e.jsx(P,{control:y.control,name:"filters.location",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Location"}),e.jsxs(K,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(D,{children:e.jsx(H,{children:e.jsx(W,{placeholder:"Any Location"})})}),e.jsxs(Q,{children:[e.jsx(h,{value:"any",children:"Any Location"}),e.jsx(h,{value:"remote",children:"Remote"}),e.jsx(h,{value:"usa",children:"United States"}),e.jsx(h,{value:"europe",children:"Europe"}),e.jsx(h,{value:"asia",children:"Asia"}),e.jsx(h,{value:"other",children:"Other"})]})]}),e.jsx(I,{})]})}),e.jsx(P,{control:y.control,name:"filters.skills",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Key Skills"}),e.jsx(D,{children:e.jsx(_,{placeholder:"e.g. React, JavaScript, Node.js",...i})}),e.jsx(I,{})]})})]}),e.jsxs("div",{children:[e.jsxs(g,{type:"button",variant:"link",className:"text-primary text-sm p-0 h-auto",onClick:()=>t(!s),children:[s?"- Hide":"+ Show"," Advanced Filters"]}),s&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(P,{control:y.control,name:"filters.education",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Education Level"}),e.jsxs(K,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(D,{children:e.jsx(H,{children:e.jsx(W,{placeholder:"Any Education"})})}),e.jsxs(Q,{children:[e.jsx(h,{value:"any",children:"Any Education"}),e.jsx(h,{value:"high-school",children:"High School"}),e.jsx(h,{value:"associate",children:"Associate Degree"}),e.jsx(h,{value:"bachelor",children:"Bachelor's Degree"}),e.jsx(h,{value:"master",children:"Master's Degree"}),e.jsx(h,{value:"phd",children:"PhD"})]})]}),e.jsx(I,{})]})}),e.jsx(P,{control:y.control,name:"filters.industry",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Industry"}),e.jsxs(K,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(D,{children:e.jsx(H,{children:e.jsx(W,{placeholder:"Any Industry"})})}),e.jsxs(Q,{children:[e.jsx(h,{value:"any",children:"Any Industry"}),e.jsx(h,{value:"tech",children:"Technology"}),e.jsx(h,{value:"finance",children:"Finance"}),e.jsx(h,{value:"healthcare",children:"Healthcare"}),e.jsx(h,{value:"education",children:"Education"}),e.jsx(h,{value:"retail",children:"Retail"})]})]}),e.jsx(I,{})]})}),e.jsx(P,{control:y.control,name:"filters.languages",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Languages"}),e.jsx(D,{children:e.jsx(_,{placeholder:"e.g. English, Spanish, French",...i})}),e.jsx(I,{})]})})]})]}),e.jsxs("div",{className:"mt-8 border-t pt-4",children:[e.jsx("h4",{className:"text-md font-medium text-text mb-4",children:"Priority Settings"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Set priority weights for different criteria to better rank candidates. Higher priority items will have more impact on the candidate scoring."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(P,{control:y.control,name:"filters.prioritySkills",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Skills Priority"}),e.jsxs(K,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(D,{children:e.jsx(H,{children:e.jsx(W,{placeholder:"Regular Priority"})})}),e.jsxs(Q,{children:[e.jsx(h,{value:"regular",children:"Regular Priority"}),e.jsx(h,{value:"low",children:"Low Priority"}),e.jsx(h,{value:"medium",children:"Medium Priority"}),e.jsx(h,{value:"high",children:"High Priority"}),e.jsx(h,{value:"critical",children:"Critical Priority"})]})]}),e.jsx(I,{})]})}),e.jsx(P,{control:y.control,name:"filters.priorityExperience",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Experience Priority"}),e.jsxs(K,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(D,{children:e.jsx(H,{children:e.jsx(W,{placeholder:"Regular Priority"})})}),e.jsxs(Q,{children:[e.jsx(h,{value:"regular",children:"Regular Priority"}),e.jsx(h,{value:"low",children:"Low Priority"}),e.jsx(h,{value:"medium",children:"Medium Priority"}),e.jsx(h,{value:"high",children:"High Priority"}),e.jsx(h,{value:"critical",children:"Critical Priority"})]})]}),e.jsx(I,{})]})}),e.jsx(P,{control:y.control,name:"filters.priorityEducation",render:({field:i})=>e.jsxs(T,{children:[e.jsx(M,{children:"Education Priority"}),e.jsxs(K,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(D,{children:e.jsx(H,{children:e.jsx(W,{placeholder:"Regular Priority"})})}),e.jsxs(Q,{children:[e.jsx(h,{value:"regular",children:"Regular Priority"}),e.jsx(h,{value:"low",children:"Low Priority"}),e.jsx(h,{value:"medium",children:"Medium Priority"}),e.jsx(h,{value:"high",children:"High Priority"}),e.jsx(h,{value:"critical",children:"Critical Priority"})]})]}),e.jsx(I,{})]})})]})]})]}),e.jsxs("div",{className:"flex justify-end pt-5 border-t border-gray-200",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>y.reset(),className:"mr-4",children:"Reset"}),e.jsx(g,{type:"submit",disabled:R.isPending,children:R.isPending?"Starting Analysis...":"Start Analysis"})]})]})})})]})})}function gr(){const{toast:s}=ee(),{data:t=[],refetch:a}=X({queryKey:["/api/analyses"],queryFn:()=>JSON.parse(sessionStorage.getItem("analyses")||"[]")}),{data:n=[]}=X({queryKey:["/api/notifications"],queryFn:()=>JSON.parse(sessionStorage.getItem("notifications")||"[]")}),l=t.filter(r=>r.status==="queued"||r.status==="processing"),o=()=>{a(),s({title:"Refreshed",description:"The queue has been refreshed"})},x=async r=>{try{const m=JSON.parse(sessionStorage.getItem("analyses")||"[]").map(f=>f.id===r?{...f,status:"failed"}:f);sessionStorage.setItem("analyses",JSON.stringify(m));const j=JSON.parse(sessionStorage.getItem("notifications")||"[]"),S={id:Math.floor(Math.random()*1e4)+200,userId:1,title:"Analysis Cancelled",message:"Your analysis has been cancelled.",type:"error",isRead:!1,createdAt:new Date().toISOString(),relatedId:r,relatedType:"analysis"};j.push(S),sessionStorage.setItem("notifications",JSON.stringify(j)),re.invalidateQueries(),s({title:"Analysis cancelled",description:"The analysis has been cancelled"})}catch(u){s({title:"Error",description:u.message||"Failed to cancel analysis",variant:"destructive"})}},v=r=>r.status==="queued"?0:r.status==="completed"?100:Math.floor(Math.random()*75)+15,c=r=>{if(r.status==="queued")return"Waiting in queue";const u=v(r);return`Estimated: ${Math.floor((100-u)/100*60)}min`};return e.jsx(ne,{title:"Analysis Queue",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(O,{children:[e.jsx(B,{className:"px-6 py-5 border-b border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(q,{className:"font-display font-semibold text-lg text-text",children:"Current Queue"}),e.jsxs(g,{onClick:o,variant:"outline",size:"sm",children:[e.jsx(sa,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),e.jsx(L,{className:"p-0",children:l.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No analyses in the queue"}),e.jsx(Y,{href:"/resume-analyzer",children:e.jsx(g,{children:"Start New Analysis"})})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Analysis Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidates"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(r=>{const u=v(r);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-text",children:r.jobTitle}),e.jsx("div",{className:"text-xs text-gray-500",children:r.department||r.name})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:r.candidateCount})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:r.createdAt?ae(new Date(r.createdAt),{addSuffix:!0}):"Recently"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx(V,{variant:r.status==="queued"?"secondary":"default",children:r.status==="queued"?"Queued":"Processing"})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap w-48",children:[e.jsx("div",{className:"w-full",children:e.jsx(we,{value:u,className:"h-2"})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u,"% - ",c(r)]})]}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx(Y,{href:`/results/${r.id}`,children:e.jsx(g,{variant:"link",className:"text-primary",children:"Details"})}),e.jsx(g,{variant:"link",className:"text-red-500",onClick:()=>x(r.id),children:"Cancel"})]})]},r.id)})})]})})})]}),e.jsxs(O,{children:[e.jsx(B,{className:"px-6 py-5 border-b border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(q,{className:"font-display font-semibold text-lg text-text",children:"Notifications"}),e.jsx(g,{variant:"link",className:"text-primary text-sm p-0 h-auto",onClick:()=>{const u=JSON.parse(sessionStorage.getItem("notifications")||"[]").map(m=>({...m,isRead:!0}));sessionStorage.setItem("notifications",JSON.stringify(u)),re.invalidateQueries(),s({title:"Notifications updated",description:"All notifications marked as read"})},children:"Mark all as read"})]})}),e.jsx(L,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-gray-100",children:n.length===0?e.jsx("div",{className:"py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No notifications"})}):n.map(r=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${ss(r.type).bgColor}`,children:e.jsx("span",{className:`text-lg ${ss(r.type).textColor}`,children:jr(r.type)})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-text",children:r.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r.message}),r.relatedId&&r.relatedType==="analysis"&&e.jsx("div",{className:"mt-2",children:e.jsx(Y,{href:`/results/${r.relatedId}`,children:e.jsx(g,{variant:"link",className:"text-sm text-primary p-0 h-auto",children:"View Results"})})}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:ae(new Date(r.createdAt),{addSuffix:!0})})]})]})},r.id))})})]})]})})}function ss(s){switch(s){case"success":return{bgColor:"bg-green-100",textColor:"text-green-600"};case"warning":return{bgColor:"bg-yellow-100",textColor:"text-yellow-600"};case"error":return{bgColor:"bg-red-100",textColor:"text-red-600"};case"info":default:return{bgColor:"bg-blue-100",textColor:"text-blue-600"}}}function jr(s){switch(s){case"success":return"✓";case"warning":return"⚠";case"error":return"✖";case"info":default:return"ℹ"}}function yr({candidates:s,loading:t}){const n=(()=>{if(!s||s.length===0)return{averageScore:0,top10Score:0,averageExperience:0,skillsCoverage:0,top10Count:0};const l=[...s].sort((b,C)=>C.matchScore-b.matchScore),x=s.reduce((b,C)=>b+C.matchScore,0)/s.length,v=Math.max(1,Math.floor(s.length*.1)),u=l.slice(0,v).reduce((b,C)=>b+C.matchScore,0)/v,m=s.filter(b=>b.matchScore>=90).length,j=s.map(b=>{var i;const C=(i=b.experience)==null?void 0:i.match(/(\d+\.?\d*)/);return C?parseFloat(C[1]):null}).filter(b=>b!==null),S=j.reduce((b,C)=>b+C,0),f=j.length>0?S/j.length:0,y=s.reduce((b,C)=>b+(Array.isArray(C.skills)?C.skills.length:0),0),R=s.length>0?y/s.length/15*100:0;return{averageScore:x.toFixed(1),top10Score:u.toFixed(1),averageExperience:f.toFixed(1),skillsCoverage:R.toFixed(1),top10Count:m}})();return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Average Match Score"}),e.jsx("div",{className:"p-1 rounded-md bg-primary bg-opacity-10",children:e.jsx(Je,{className:"h-5 w-5 text-primary"})})]}),e.jsx("p",{className:"text-3xl font-semibold text-text mt-2",children:t?"...":`${n.averageScore}%`}),e.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[e.jsx("span",{className:"text-secondary font-medium",children:"↑ 4.2%"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"higher than average"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Top 10% Score"}),e.jsx("div",{className:"p-1 rounded-md bg-secondary bg-opacity-10",children:e.jsx(ta,{className:"h-5 w-5 text-secondary"})})]}),e.jsx("p",{className:"text-3xl font-semibold text-text mt-2",children:t?"...":`${n.top10Score}%`}),e.jsx("div",{className:"mt-2 flex items-center text-sm",children:e.jsx("span",{className:"text-gray-500",children:t?"...":`${n.top10Count} candidates scored above 90%`})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Experience Level"}),e.jsx("div",{className:"p-1 rounded-md bg-primary bg-opacity-10",children:e.jsx(aa,{className:"h-5 w-5 text-primary"})})]}),e.jsx("p",{className:"text-3xl font-semibold text-text mt-2",children:t?"...":`${n.averageExperience} yrs`}),e.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[e.jsx("span",{className:"text-secondary font-medium",children:"+0.9 yrs"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"above requirement"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Skills Coverage"}),e.jsx("div",{className:"p-1 rounded-md bg-secondary bg-opacity-10",children:e.jsx(ra,{className:"h-5 w-5 text-secondary"})})]}),e.jsx("p",{className:"text-3xl font-semibold text-text mt-2",children:t?"...":`${n.skillsCoverage}%`}),e.jsx("div",{className:"mt-2 flex items-center text-sm",children:e.jsx("span",{className:"text-gray-500",children:t?"...":"Key skills matched on average"})})]})]})}function vr({candidates:s,loading:t,sortType:a}){const[n,l]=d.useState(""),[o,x]=d.useState(1),[v]=d.useState(10),{toast:c}=ee(),r=s.filter(i=>{var k,w,F;if(!n)return!0;const N=n.toLowerCase();return((k=i.name)==null?void 0:k.toLowerCase().includes(N))||((w=i.email)==null?void 0:w.toLowerCase().includes(N))||((F=i.location)==null?void 0:F.toLowerCase().includes(N))||Array.isArray(i.skills)&&i.skills.some(A=>A.toLowerCase().includes(N))}),u=[...r].sort((i,N)=>{var k,w,F,A,$;switch(a){case"match":return N.matchScore-i.matchScore;case"experience":const J=parseFloat(((w=(k=i.experience)==null?void 0:k.match(/(\d+\.?\d*)/))==null?void 0:w[1])||"0");return parseFloat(((A=(F=N.experience)==null?void 0:F.match(/(\d+\.?\d*)/))==null?void 0:A[1])||"0")-J;case"education":const G={PhD:3,Master:2,Bachelor:1},ie=G[i.education]||0;return(G[N.education]||0)-ie;case"name":return($=i.name)==null?void 0:$.localeCompare(N.name||"");default:return N.matchScore-i.matchScore}}),m=o*v,j=m-v,S=u.slice(j,m),f=Math.ceil(r.length/v),y=i=>{c({title:"Contact initiated",description:`An email has been sent to ${i.email}`})},R=i=>{c({title:"Viewing candidate details",description:`Details for ${i.name}`})},b=i=>i>=90||i>=70?"bg-green-100 text-green-800":i>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",C=i=>i>=90?"Excellent":i>=70?"Good":i>=50?"Average":"Poor";return e.jsxs(O,{children:[e.jsxs(B,{className:"px-6 py-5 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs(q,{className:"font-display font-semibold text-lg text-text",children:["Candidates (",r.length,")"]}),e.jsxs("div",{className:"relative mt-2 sm:mt-0 w-full sm:w-64",children:[e.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_,{placeholder:"Search candidates...",className:"pl-9",value:n,onChange:i=>l(i.target.value)})]})]}),e.jsx(L,{className:"p-0",children:t?e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Loading candidates..."})}):r.length===0?e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No candidates found"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Experience"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match Score"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Skills"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map((i,N)=>{var k,w,F,A,$,J,U;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:e.jsxs(ve,{children:[e.jsx(Ne,{src:`https://source.unsplash.com/random/100x100?face&${N}`,alt:i.name}),e.jsx(be,{children:((k=i.name)==null?void 0:k[0])||"C"})]})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-text",children:i.name}),e.jsx("div",{className:"text-sm text-gray-500",children:i.education||"Unknown education"})]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-text",children:i.email}),e.jsx("div",{className:"text-sm text-gray-500",children:i.phone||"No phone provided"})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-text",children:i.experience||"Unknown"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-text",children:i.location||"Unknown"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b(((F=(w=i==null?void 0:i.evaluation)==null?void 0:w.overall)==null?void 0:F.score)*100)}`,children:[e.jsxs("span",{className:"font-bold mr-1",children:[(($=(A=i==null?void 0:i.evaluation)==null?void 0:A.overall)==null?void 0:$.score)*10,"%"]}),C(((U=(J=i==null?void 0:i.evaluation)==null?void 0:J.overall)==null?void 0:U.score)*10)]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:Array.isArray(i.skills)?e.jsxs(e.Fragment,{children:[i.skills.slice(0,3).map((G,ie)=>e.jsx(V,{variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-200",children:G},ie)),i.skills.length>3&&e.jsxs(V,{variant:"outline",className:"bg-gray-100 text-gray-800",children:["+",i.skills.length-3]})]}):e.jsx("span",{className:"text-xs text-gray-500",children:"No skills listed"})})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsxs(g,{variant:"ghost",size:"sm",className:"text-primary mr-1",onClick:()=>R(i),children:[e.jsx(na,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(g,{variant:"ghost",size:"sm",className:"text-green-600",onClick:()=>y(i),children:[e.jsx(gs,{className:"h-4 w-4 mr-1"}),"Contact"]})]})]},i.id||N)})})]})}),f>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-medium",children:j+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(m,r.length)})," ","of ",e.jsx("span",{className:"font-medium",children:r.length})," candidates"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(g,{variant:"outline",size:"sm",onClick:()=>x(i=>Math.max(i-1,1)),disabled:o===1,children:"Previous"}),Array.from({length:Math.min(f,5)}).map((i,N)=>{const k=N+1;return e.jsx(g,{variant:"outline",size:"sm",className:o===k?"bg-primary text-white":"",onClick:()=>x(k),children:k},N)}),f>5&&e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"outline",size:"sm",disabled:!0,children:"..."}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>x(f),children:f})]}),e.jsx(g,{variant:"outline",size:"sm",onClick:()=>x(i=>Math.min(i+1,f)),disabled:o===f,children:"Next"})]})]})})]})})]})}const te=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function Nr({candidates:s,loading:t}){const a=()=>s!=null&&s.length?["clarity_and_structure","relevant_experience","achievements","skills_match","professionalism"].map(m=>{const S=s.reduce((f,y)=>f+y.evaluation[m].score,0)/s.length;return{name:m.split("_").map(f=>f[0].toUpperCase()+f.slice(1)).join(" "),value:parseFloat(S.toFixed(1)),analysis:s[0].evaluation[m].analysis}}):[],n=()=>{if(!(s!=null&&s.length))return[];const u=[{name:"Poor (0-5)",min:0,max:5,count:0},{name:"Average (6-7)",min:6,max:7,count:0},{name:"Good (8-9)",min:8,max:9,count:0},{name:"Excellent (10)",min:10,max:10,count:0}];return s.forEach(m=>{const j=m.evaluation.overall.score,S=u.find(f=>j>=f.min&&j<=f.max);S&&S.count++}),u},l=()=>s!=null&&s.length?[...s].sort((u,m)=>m.evaluation.overall.score-u.evaluation.overall.score).slice(0,3).map(u=>({name:u.name.split("_")[0],score:u.evaluation.overall.score,ranking:u.evaluation.overall.ranking})):[],o=({cx:u,cy:m,midAngle:j,innerRadius:S,outerRadius:f,percent:y,index:R})=>{const b=Math.PI/180,C=S+(f-S)*.5,i=u+C*Math.cos(-j*b),N=m+C*Math.sin(-j*b);return e.jsx("text",{x:i,y:N,fill:"white",textAnchor:"middle",dominantBaseline:"central",fontSize:12,fontWeight:500,children:`${(y*100).toFixed(0)}%`})},x=a(),v=n(),c=l(),r=({active:u,payload:m})=>u&&m&&m.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-md shadow-sm text-sm",children:[e.jsx("p",{className:"font-medium",children:m[0].name||m[0].payload.name}),e.jsxs("p",{children:["Score: ",m[0].value,m[0].payload.max?`/${m[0].payload.max}`:""]}),m[0].payload.analysis&&e.jsx("p",{className:"text-xs mt-1 text-gray-600",children:m[0].payload.analysis})]}):null;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(O,{className:"h-80",children:[e.jsx(B,{className:"px-4 py-3 border-b",children:e.jsx(q,{className:"text-sm font-medium",children:"Evaluation Category Averages"})}),e.jsx(L,{className:"p-4 h-[calc(100%-52px)]",children:t?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."})}):x.length?e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(ia,{margin:{top:20,bottom:20},children:[e.jsxs(la,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",label:o,labelLine:!1,children:[x.map((u,m)=>e.jsx(ke,{fill:te[m%te.length]},`cell-${m}`)),e.jsx(oa,{dataKey:"name",position:"outside",offset:15,fontSize:10,fill:"#333",angle:0,stroke:"none"})]}),e.jsx(Ae,{content:e.jsx(r,{})}),e.jsx(ca,{layout:"horizontal",verticalAlign:"bottom",height:36,wrapperStyle:{fontSize:"10px",paddingTop:"10px"}})]})}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center text-gray-500 text-sm",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),e.jsx("span",{children:"No data"})]})})})]}),e.jsxs(O,{className:"h-80",children:[e.jsx(B,{className:"px-4 py-3 border-b",children:e.jsx(q,{className:"text-sm font-medium",children:"Score Distribution"})}),e.jsx(L,{className:"p-4 h-[calc(100%-52px)]",children:t?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."})}):v.length?e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(We,{data:v,margin:{left:-20},children:[e.jsx(Ye,{dataKey:"name",tick:{fontSize:10}}),e.jsx(Ge,{tick:{fontSize:10}}),e.jsx(Ae,{content:e.jsx(r,{})}),e.jsx(Xe,{dataKey:"count",fill:"#8884d8",radius:[4,4,0,0],children:v.map((u,m)=>e.jsx(ke,{fill:te[m%te.length]},`cell-${m}`))})]})}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center text-gray-500 text-sm",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),e.jsx("span",{children:"No data"})]})})})]}),e.jsxs(O,{className:"h-80",children:[e.jsx(B,{className:"px-4 py-3 border-b",children:e.jsx(q,{className:"text-sm font-medium",children:"Top Candidates"})}),e.jsx(L,{className:"p-4 h-[calc(100%-52px)]",children:t?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."})}):c.length?e.jsx(Ce,{width:"100%",height:"100%",children:e.jsxs(We,{data:c,layout:"vertical",margin:{left:30,right:20},children:[e.jsx(Ye,{type:"number",domain:[0,10],tick:{fontSize:10}}),e.jsx(Ge,{dataKey:"name",type:"category",width:80,tick:{fontSize:10}}),e.jsx(Ae,{content:e.jsx(r,{}),formatter:u=>[`Score: ${u}/10`,""]}),e.jsx(Xe,{dataKey:"score",fill:"#82CA9D",radius:[0,4,4,0],children:c.map((u,m)=>e.jsx(ke,{fill:te[m%te.length]},`cell-${m}`))})]})}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center text-gray-500 text-sm",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),e.jsx("span",{children:"No data"})]})})})]})]})}function br({candidates:s}){const t=[...s].sort((l,o)=>o.matchScore-l.matchScore).slice(0,5),a=l=>typeof l=="string"?l.split(",").map(o=>o.trim()):Array.isArray(l)?l:[],n=l=>l===0?e.jsx(V,{className:"bg-yellow-500",children:"#1"}):l===1?e.jsx(V,{className:"bg-gray-400",children:"#2"}):l===2?e.jsx(V,{className:"bg-amber-700",children:"#3"}):e.jsxs(V,{variant:"outline",children:["#",l+1]});return e.jsxs(O,{children:[e.jsx(B,{className:"pb-2",children:e.jsxs(q,{className:"text-lg font-medium flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5 text-yellow-500"}),"Top Candidates"]})}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:t.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No candidates found"}):t.map((l,o)=>e.jsxs("div",{className:`p-4 rounded-lg flex items-start gap-4 ${o===0?"bg-yellow-50 border border-yellow-100":"hover:bg-gray-50"}`,children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${o===0?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:o===0?e.jsx(Js,{className:"h-5 w-5"}):e.jsx(Us,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium",children:l.name}),n(o),e.jsx("div",{className:"ml-auto",children:e.jsxs("span",{className:`font-bold ${l.matchScore>=90?"text-green-600":l.matchScore>=80?"text-blue-600":"text-gray-700"}`,children:[l.matchScore,"%"]})})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.experience," • ",l.education," • ",l.location]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[a(l.skills).slice(0,3).map((x,v)=>e.jsx(V,{variant:"outline",className:"mr-1 mb-1",children:x},v)),a(l.skills).length>3&&e.jsxs(V,{variant:"outline",className:"bg-gray-50",children:["+",a(l.skills).length-3]})]}),e.jsx("div",{className:"mt-3",children:e.jsx(g,{variant:"link",size:"sm",className:"h-auto p-0 text-primary",children:"View Resume"})})]})]},l.id))})})]})}function wr({candidates:s}){const[t,a]=d.useState({exceptional:!0,strong:!0,qualified:!1,potential:!1,notRecommended:!1}),n=r=>r>=90?"exceptional":r>=80?"strong":r>=70?"qualified":r>=60?"potential":"notRecommended",o=s.map((r,u)=>{var j,S,f,y,R,b,C,i,N,k,w,F;const m=((S=(j=r.evaluation)==null?void 0:j.overall)==null?void 0:S.score)*10||0;return{id:u,name:r.name.replace(/_/g," "),matchScore:m,tier:n(m),experience:`${(y=(f=r.evaluation)==null?void 0:f.relevant_experience)==null?void 0:y.score}/10`||"N/A",education:`${(b=(R=r.evaluation)==null?void 0:R.achievements)==null?void 0:b.score}/10`||"N/A",location:`${(i=(C=r.evaluation)==null?void 0:C.professionalism)==null?void 0:i.score}/10`||"N/A",skills:[`Clarity: ${(k=(N=r.evaluation)==null?void 0:N.clarity_and_structure)==null?void 0:k.score}/10`,`Skills Match: ${(F=(w=r.evaluation)==null?void 0:w.skills_match)==null?void 0:F.score}/10`]}}).reduce((r,u)=>{const m=u.tier;return r[m]||(r[m]=[]),r[m].push(u),r},{}),x={exceptional:{label:"Exceptional Matches",description:"These candidates closely match the job requirements",icon:Js,color:"text-yellow-500",bgColor:"bg-yellow-50",borderColor:"border-yellow-100",textColor:"text-yellow-700"},strong:{label:"Strong Matches",description:"These candidates match most of the job requirements",icon:ha,color:"text-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-100",textColor:"text-blue-700"},qualified:{label:"Qualified Candidates",description:"These candidates meet the minimum requirements",icon:ua,color:"text-green-500",bgColor:"bg-green-50",borderColor:"border-green-100",textColor:"text-green-700"},potential:{label:"Potential Fits",description:"These candidates may need additional training",icon:xa,color:"text-gray-500",bgColor:"bg-gray-50",borderColor:"border-gray-100",textColor:"text-gray-700"},notRecommended:{label:"Not Recommended",description:"These candidates do not match the requirements",icon:ma,color:"text-red-500",bgColor:"bg-red-50",borderColor:"border-red-100",textColor:"text-red-700"}},v=r=>{a({...t,[r]:!t[r]})},c=r=>{const u=x[r],m=o[r]||[],j=m.length;if(j===0)return null;const S=u.icon;return e.jsxs("div",{className:`rounded-lg overflow-hidden mb-4 ${u.borderColor} border`,children:[e.jsxs("div",{className:`p-4 ${u.bgColor} flex items-center justify-between cursor-pointer`,onClick:()=>v(r),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:`h-5 w-5 ${u.color} mr-2`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:u.label}),e.jsx("p",{className:"text-sm text-gray-600",children:u.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-sm font-medium",children:[j," candidates"]})}),e.jsx(g,{variant:"ghost",size:"icon",className:"h-8 w-8",children:t[r]?e.jsx(Ls,{size:16}):e.jsx(Ue,{size:16})})]})]}),t[r]&&e.jsx("div",{className:"p-3 bg-white",children:e.jsx("div",{className:"grid grid-cols-1 gap-3",children:m.map(f=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded flex flex-col sm:flex-row sm:items-center",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"font-medium text-sm",children:f.name}),e.jsxs(V,{className:"ml-2",children:[f.matchScore,"%"]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Experience: ",f.experience," • Education Score: ",f.education," • Professionalism: ",f.location]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:f.skills.map((y,R)=>e.jsx(V,{variant:"outline",className:"mr-1 mb-1 text-xs",children:y},R))})]}),e.jsx("div",{className:"mt-3 sm:mt-0 flex sm:flex-col items-center sm:items-end",children:e.jsx(g,{variant:"link",size:"sm",className:"h-auto p-0 text-primary",children:"View Resume"})})]},f.id))})})]},r)};return e.jsxs(O,{children:[e.jsx(B,{className:"pb-2",children:e.jsxs(q,{className:"text-lg font-medium flex items-center gap-2",children:[e.jsx(da,{className:"h-5 w-5 text-gray-500"}),"Candidates by Tier"]})}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 pb-4 border-b",children:[e.jsx("span",{className:"text-sm font-medium",children:"Score Tiers:"}),e.jsxs("div",{className:"flex items-center text-xs text-yellow-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-1"}),"90-100% Exceptional"]}),e.jsxs("div",{className:"flex items-center text-xs text-blue-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500 mr-1"}),"80-89% Strong"]}),e.jsxs("div",{className:"flex items-center text-xs text-green-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500 mr-1"}),"70-79% Qualified"]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-gray-500 mr-1"}),"60-69% Potential"]}),e.jsxs("div",{className:"flex items-center text-xs text-red-700",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500 mr-1"}),"Below 60% Not Recommended"]})]}),Object.keys(x).map(r=>c(r))]})]})}function ts(){var S,f;const{id:s}=pa(),[,t]=Be(),{toast:a}=ee(),[n,l]=d.useState("match"),{analysisResults:o,setAnalysisResults:x}=xt();console.log("analysisResults",o);const{data:v=[]}=X({queryKey:["/api/analyses"],queryFn:()=>JSON.parse(sessionStorage.getItem("analyses")||"[]")}),c=s?v.find(y=>y.id===parseInt(s)):v.find(y=>y.status==="completed")||v[0];d.useEffect(()=>{!s&&c&&t(`/results/${c.id}`)},[s,c,t]);const{data:r=[],isLoading:u}=X({queryKey:["/api/analyses",c==null?void 0:c.id,"candidates"],enabled:!!(c!=null&&c.id),queryFn:()=>JSON.parse(sessionStorage.getItem("candidates")||"[]").filter(b=>b.analysisId===c.id)}),m=()=>{a({title:"Export started",description:"Your data is being prepared for download."}),setTimeout(()=>{a({title:"Export ready",description:"Your data has been exported successfully."})},2e3)},j=()=>{a({title:"Share results",description:"A shareable link has been copied to your clipboard."})};return(o==null?void 0:o.candidates)<=0?e.jsx(ne,{title:"Analysis Results",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"No analysis results found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Start a new analysis to see results here"}),e.jsx(g,{onClick:()=>t("/resume-analyzer"),children:"Start New Analysis"})]})}):e.jsx(ne,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-display font-bold text-text",children:"Analysis Results"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(g,{variant:"default",onClick:()=>t(`/resume-analyzer?reanalysis=${c.id}`),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),e.jsx("path",{d:"M3 3v5h5"})]}),"Rescan Analysis"]}),e.jsxs(g,{variant:"outline",onClick:m,children:[e.jsx(fa,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(g,{variant:"outline",onClick:j,children:[e.jsx(ga,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}),e.jsx(O,{children:e.jsx(L,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-display font-semibold text-text",children:c==null?void 0:c.jobTitle}),e.jsxs("p",{className:"text-gray-500 mt-1",children:[(c==null?void 0:c.department)||"No Department"," • Created ",(S=new Date(c==null?void 0:c.createdAt))==null?void 0:S.toLocaleDateString()]})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex items-center",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-md px-3 py-1 mr-4",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsxs("span",{className:"text-gray-700 font-medium",children:[c==null?void 0:c.candidateCount," Candidates"]})]}),e.jsxs(K,{value:n,onValueChange:l,children:[e.jsx(H,{className:"w-[200px]",children:e.jsx(W,{placeholder:"Sort by: Match Score"})}),e.jsxs(Q,{children:[e.jsx(h,{value:"match",children:"Sort by: Match Score"}),e.jsx(h,{value:"experience",children:"Sort by: Experience"}),e.jsx(h,{value:"education",children:"Sort by: Education"}),e.jsx(h,{value:"name",children:"Sort by: Name"})]})]})]})]})})}),e.jsx(yr,{candidates:r,loading:u}),!u&&r.length>0&&e.jsx(br,{candidates:r}),e.jsx(Nr,{candidates:o==null?void 0:o.candidates,loading:u}),!u&&((f=o==null?void 0:o.candidates)==null?void 0:f.length)>0&&e.jsx(wr,{candidates:o==null?void 0:o.candidates}),e.jsx(vr,{candidates:(o==null?void 0:o.candidates)||r,loading:u,sortType:n})]})})}function Sr(){const[s,t]=d.useState("all-time"),[a,n]=d.useState("all"),[l,o]=d.useState("all"),[x,v]=d.useState(""),{data:c=[]}=X({queryKey:["/api/analyses"]}),r=c.filter(m=>{if(x&&!m.name.toLowerCase().includes(x.toLowerCase())&&!m.jobTitle.toLowerCase().includes(x.toLowerCase())||l!=="all"&&m.status!==l||a!=="all"&&m.department!==a)return!1;if(s!=="all-time"){const j=new Date(m.createdAt),S=new Date;if(s==="last-7"&&S-j>7*24*60*60*1e3)return!1;if(s==="last-30"&&S-j>30*24*60*60*1e3)return!1;if(s==="last-90"&&S-j>90*24*60*60*1e3)return!1}return!0}),u=[...r].sort((m,j)=>new Date(j.createdAt)-new Date(m.createdAt));return e.jsx(ne,{title:"Analysis History",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(_,{placeholder:"Search history...",className:"pl-9",value:x,onChange:m=>v(m.target.value)})]}),e.jsxs(g,{variant:"outline",children:[e.jsx(ja,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),e.jsx(O,{children:e.jsx(L,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"date-range",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs(K,{value:s,onValueChange:t,children:[e.jsx(H,{id:"date-range",children:e.jsx(W,{placeholder:"All Time"})}),e.jsxs(Q,{children:[e.jsx(h,{value:"all-time",children:"All Time"}),e.jsx(h,{value:"last-7",children:"Last 7 days"}),e.jsx(h,{value:"last-30",children:"Last 30 days"}),e.jsx(h,{value:"last-90",children:"Last 90 days"}),e.jsx(h,{value:"custom",children:"Custom Range"})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsxs(K,{value:a,onValueChange:n,children:[e.jsx(H,{id:"department",children:e.jsx(W,{placeholder:"All Departments"})}),e.jsxs(Q,{children:[e.jsx(h,{value:"all",children:"All Departments"}),e.jsx(h,{value:"Engineering",children:"Engineering"}),e.jsx(h,{value:"Marketing",children:"Marketing"}),e.jsx(h,{value:"Product",children:"Product"}),e.jsx(h,{value:"HR",children:"HR"}),e.jsx(h,{value:"Sales",children:"Sales"})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs(K,{value:l,onValueChange:o,children:[e.jsx(H,{id:"status",children:e.jsx(W,{placeholder:"All Statuses"})}),e.jsxs(Q,{children:[e.jsx(h,{value:"all",children:"All Statuses"}),e.jsx(h,{value:"completed",children:"Completed"}),e.jsx(h,{value:"processing",children:"Processing"}),e.jsx(h,{value:"queued",children:"Queued"}),e.jsx(h,{value:"failed",children:"Failed"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(g,{className:"h-10",onClick:()=>{t("all-time"),n("all"),o("all"),v("")},children:"Apply"})})]})})}),e.jsxs(O,{children:[e.jsx(B,{className:"px-6 py-5 border-b border-gray-100",children:e.jsx(q,{className:"font-display font-semibold text-lg text-text",children:"All Analyses"})}),e.jsxs(L,{className:"p-0",children:[r.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No analyses found matching your filters"}),e.jsx(g,{onClick:()=>{t("all-time"),n("all"),o("all"),v("")},children:"Clear Filters"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Analysis Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidates"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(m=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-text",children:m.jobTitle}),e.jsx("div",{className:"text-xs text-gray-500",children:m.averageScore?`Match Score: ${m.averageScore}%`:""})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:m.department||"Not specified"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:m.candidateCount})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs(ve,{className:"h-8 w-8",children:[e.jsx(Ne,{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",alt:"User"}),e.jsx(be,{children:e.jsx(Us,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm text-gray-900",children:"Alex Johnson"})})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:ae(new Date(m.createdAt),{addSuffix:!0})})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx(V,{variant:Cr(m.status),children:kr(m.status)})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx(Y,{href:`/results/${m.id}`,children:e.jsx(g,{variant:"link",className:"text-primary",children:"View"})}),e.jsx(g,{variant:"link",className:"text-gray-500",children:"Export"})]})]},m.id))})]})}),r.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-medium",children:"1"})," to ",e.jsx("span",{className:"font-medium",children:r.length})," of ",e.jsx("span",{className:"font-medium",children:c.length})," analyses"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(g,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),e.jsx(g,{variant:"outline",size:"sm",className:"bg-primary text-white",children:"1"}),e.jsx(g,{variant:"outline",size:"sm",disabled:!0,children:"Next"})]})]})})]})]})]})})}function Cr(s){switch(s){case"completed":return"success";case"processing":return"default";case"queued":return"secondary";case"failed":return"destructive";default:return"outline"}}function kr(s){switch(s){case"completed":return"Completed";case"processing":return"Processing";case"queued":return"Queued";case"failed":return"Failed";default:return s}}function Ar(){return e.jsxs(va,{children:[e.jsx(se,{path:"/",component:lr}),e.jsx(se,{path:"/resume-analyzer",component:fr}),e.jsx(se,{path:"/analysis-queue",component:gr}),e.jsx(se,{path:"/results/:id",component:ts}),e.jsx(se,{path:"/results",component:ts}),e.jsx(se,{path:"/history",component:Sr}),e.jsx(Re,{path:"/auth",component:Ha}),e.jsx(Re,{component:Oa})]})}function Tr(){return e.jsx(ya,{client:re,children:e.jsx($a,{children:e.jsx(hr,{children:e.jsxs(Ia,{children:[e.jsx(Pa,{}),e.jsx(Ar,{})]})})})})}Na.createRoot(document.getElementById("root")).render(e.jsx(Tr,{}));
//# sourceMappingURL=index-ZiRGOhYV.js.map
